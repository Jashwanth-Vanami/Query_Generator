2025-03-02 17:13:43,878 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:14:33,542 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:14:33,549 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 17:14:33,549 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 17:14:33,549 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:14:33,549 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 17:14:33,549 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 17:14:33,549 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 17:14:33,653 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 17:14:33,688 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 17:14:33,771 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 17:14:33,772 - database_query - INFO - Schema Config: {
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}
2025-03-02 17:14:33,773 - QueryCache - INFO - Cache get for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604: None
2025-03-02 17:14:33,773 - prompttemplate - INFO - Generating MySQL prompt for query: Give me total online sales amount count
2025-03-02 17:14:33,773 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me total online sales amount count

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 17:14:34,974 - ai_clients - INFO - Generated query: ```sql
SELECT SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail;
```
2025-03-02 17:14:34,975 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:14:34,975 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 17:14:34,975 - QueryCache - INFO - Cache set for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604 with query: ```sql
SELECT SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:14:34,975 - database_query - INFO - Generated and optimized query: ```sql
SELECT SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:14:34,985 - database_query - INFO - Connected to MySQL database.
2025-03-02 17:14:34,985 - database_query - INFO - Executing SQL query: SELECT SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail;
2025-03-02 17:16:43,542 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:16:43,551 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 17:16:43,551 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 17:16:43,551 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:16:43,551 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 17:16:43,551 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 17:16:43,551 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 17:16:43,576 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 17:16:43,580 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 17:16:43,643 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 17:16:43,644 - QueryCache - INFO - Cache get for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604: None
2025-03-02 17:16:43,644 - prompttemplate - INFO - Generating MySQL prompt for query: Give me total online sales amount count
2025-03-02 17:16:43,644 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me total online sales amount count

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 17:16:44,407 - ai_clients - INFO - Generated query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount 
FROM Sales_SalesOrderDetail;
```
2025-03-02 17:16:44,407 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount 
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:16:44,407 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 17:16:44,407 - QueryCache - INFO - Cache set for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604 with query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount 
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:16:44,407 - database_query - INFO - Generated and optimized query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount 
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:16:44,416 - database_query - INFO - Connected to MySQL database.
2025-03-02 17:16:44,416 - database_query - INFO - Executing SQL query: SELECT SUM(LineTotal) AS total_online_sales_amount 
FROM Sales_SalesOrderDetail;
2025-03-02 17:17:33,688 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:17:33,695 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 17:17:33,695 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 17:17:33,695 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:17:33,695 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 17:17:33,695 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 17:17:33,695 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 17:17:33,722 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 17:17:33,728 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 17:17:33,786 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 17:17:33,787 - QueryCache - INFO - Cache get for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604: None
2025-03-02 17:17:33,787 - prompttemplate - INFO - Generating MySQL prompt for query: Give me total online sales amount count
2025-03-02 17:17:33,787 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me total online sales amount count

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 17:17:34,527 - ai_clients - INFO - Generated query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount
FROM Sales_SalesOrderDetail;
```
2025-03-02 17:17:34,527 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:17:34,527 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 17:17:34,527 - QueryCache - INFO - Cache set for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604 with query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:17:34,527 - database_query - INFO - Generated and optimized query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:17:34,536 - database_query - INFO - Connected to MySQL database.
2025-03-02 17:17:34,536 - database_query - INFO - Executing SQL query: SELECT SUM(LineTotal) AS total_online_sales_amount
FROM Sales_SalesOrderDetail;
2025-03-02 17:41:38,734 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:41:46,815 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 17:41:46,822 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 17:41:46,823 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:41:46,823 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 17:41:46,823 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 17:41:46,823 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 17:41:46,936 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 17:41:46,968 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 17:41:47,221 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 17:41:47,225 - QueryCache - INFO - Cache get for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604: None
2025-03-02 17:41:47,225 - prompttemplate - INFO - Generating MySQL prompt for query: Give me total online sales amount count
2025-03-02 17:41:47,226 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me total online sales amount count

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 17:41:48,761 - ai_clients - INFO - Generated query: ```sql
SELECT SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail;
```
2025-03-02 17:41:48,762 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:41:48,762 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 17:41:48,762 - QueryCache - INFO - Cache set for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604 with query: ```sql
SELECT SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:41:48,762 - database_query - INFO - Generated and optimized query: ```sql
SELECT SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 17:41:48,776 - database_query - INFO - Connected to MySQL database.
2025-03-02 17:42:32,556 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 17:42:32,556 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 17:42:32,557 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:42:32,557 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 17:42:32,557 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 17:42:32,557 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 17:42:32,571 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 17:42:32,573 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 17:42:32,642 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 17:42:32,643 - QueryCache - INFO - Cache get for key 3118339aaba818e6e686583c73e8893afa39eb041e425f3861d580b35d50c1a8: None
2025-03-02 17:42:32,643 - prompttemplate - INFO - Generating MySQL prompt for query: Give me count of total number of employyes whose birthday is in the month of january

2025-03-02 17:42:32,643 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me count of total number of employyes whose birthday is in the month of january


Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 17:42:33,841 - ai_clients - INFO - Generated query: ```sql
SELECT COUNT(*) AS total_employees_in_january
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
```
2025-03-02 17:42:33,841 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT COUNT(*) AS total_employees_in_january
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
```;
2025-03-02 17:42:33,842 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 17:42:33,842 - QueryCache - INFO - Cache set for key 3118339aaba818e6e686583c73e8893afa39eb041e425f3861d580b35d50c1a8 with query: ```sql
SELECT COUNT(*) AS total_employees_in_january
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
```;
2025-03-02 17:42:33,842 - database_query - INFO - Generated and optimized query: ```sql
SELECT COUNT(*) AS total_employees_in_january
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
```;
2025-03-02 17:42:33,854 - database_query - INFO - Connected to MySQL database.
2025-03-02 17:48:06,143 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:48:35,412 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 17:48:35,438 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 17:48:35,439 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:48:35,439 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 17:48:35,439 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 17:48:35,439 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 17:48:35,516 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 17:48:35,540 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 17:48:35,626 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 17:48:35,628 - database_query - INFO - Schema Config: {
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}
2025-03-02 17:48:35,630 - QueryCache - INFO - Cache get for key fdd86d5cbbb32c921d6ab671c5182a5abf303d924c8da23a1058c702fcab7e9f: None
2025-03-02 17:48:35,630 - prompttemplate - INFO - Generating MySQL prompt for query: Give me 10 products
2025-03-02 17:48:35,630 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me 10 products

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 17:48:36,618 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM Production_Product
LIMIT 10;
``` (latency: 0.99s, usage: {
  "prompt_tokens": 8806,
  "completion_tokens": 15,
  "total_tokens": 8821,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 17:48:36,618 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM Production_Product
LIMIT 10;
```;
2025-03-02 17:48:36,619 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 17:48:36,619 - QueryCache - INFO - Cache set for key fdd86d5cbbb32c921d6ab671c5182a5abf303d924c8da23a1058c702fcab7e9f with query: ```sql
SELECT *
FROM Production_Product
LIMIT 10;
```;
2025-03-02 17:48:36,619 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM Production_Product
LIMIT 10;
```;
2025-03-02 17:48:36,632 - database_query - INFO - Connected to MySQL database.
2025-03-02 17:49:18,392 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 17:49:18,393 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 17:49:18,393 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:49:18,393 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 17:49:18,393 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 17:49:18,393 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 17:49:18,404 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 17:49:18,407 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 17:49:18,469 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 17:49:18,470 - database_query - INFO - Schema Config: {
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}
2025-03-02 17:49:18,470 - QueryCache - INFO - Cache get for key ca2dc846f0033409160fc962909cbc5d000b519c3ac00d39bae6994cff116afc: None
2025-03-02 17:49:18,470 - prompttemplate - INFO - Generating MySQL prompt for query: List the top 10 prodcuts with max price
2025-03-02 17:49:18,471 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
List the top 10 prodcuts with max price

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 17:49:19,353 - ai_clients - INFO - Generated query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
``` (latency: 0.88s, usage: {
  "prompt_tokens": 8812,
  "completion_tokens": 28,
  "total_tokens": 8840,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 17:49:19,354 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
```;
2025-03-02 17:49:19,354 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 17:49:19,354 - QueryCache - INFO - Cache set for key ca2dc846f0033409160fc962909cbc5d000b519c3ac00d39bae6994cff116afc with query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
```;
2025-03-02 17:49:19,354 - database_query - INFO - Generated and optimized query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
```;
2025-03-02 17:49:19,367 - database_query - INFO - Connected to MySQL database.
2025-03-02 17:53:14,899 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:53:27,251 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 17:53:27,252 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 17:53:27,252 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:53:27,252 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 17:53:27,252 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 17:53:27,252 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 17:53:27,335 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 17:53:27,381 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 17:53:27,504 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 17:53:27,508 - database_query - INFO - Schema Config: {
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}
2025-03-02 17:53:27,514 - QueryCache - INFO - Cache get for key 712a30fd6a09ae23fc4fbedbd8c2043f12b2413d1ad882ae7518a2573b6e55c8: None
2025-03-02 17:53:27,514 - prompttemplate - INFO - Generating MySQL prompt for query: List 5 products with max price
2025-03-02 17:53:27,514 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
List 5 products with max price

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 17:53:28,511 - ai_clients - INFO - Generated query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
``` (latency: 0.98s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 28,
  "total_tokens": 8836,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 17:53:28,511 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 17:53:28,511 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 17:53:28,511 - QueryCache - INFO - Cache set for key 712a30fd6a09ae23fc4fbedbd8c2043f12b2413d1ad882ae7518a2573b6e55c8 with query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 17:53:28,511 - database_query - INFO - Generated and optimized query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 17:53:28,523 - database_query - INFO - Connected to MySQL database.
2025-03-02 17:53:52,699 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 17:53:52,700 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 17:53:52,703 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 17:53:52,703 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 17:53:52,704 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 17:53:52,704 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 17:53:52,717 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 17:53:52,720 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 17:53:52,843 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 17:53:52,846 - database_query - INFO - Schema Config: {
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}
2025-03-02 17:53:52,848 - QueryCache - INFO - Cache get for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604: None
2025-03-02 17:53:52,848 - prompttemplate - INFO - Generating MySQL prompt for query: Give me total online sales amount count
2025-03-02 17:53:52,848 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me total online sales amount count

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 17:53:54,500 - ai_clients - INFO - Generated query: To get the total online sales amount count, we will assume that `Sales_SalesOrderDetail` table has the necessary data for online sales with the `OnlineOrderFlag` column identifying online orders. Here's the MySQL query for fetching the count of total online sales amount:

```sql
SELECT COUNT(*) AS TotalOnlineSalesCount
FROM Sales_SalesOrderDetail sod
JOIN Sales_SalesOrderHeader soh ON sod.SalesOrderID = soh.SalesOrderID
WHERE soh.OnlineOrderFlag = 1;
```

This query will return the count of all online sales amounts by joining `Sales_SalesOrderDetail` with `Sales_SalesOrderHeader` on `SalesOrderID` and filtering based on `Online (latency: 1.64s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 150,
  "total_tokens": 8958,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 17:53:54,501 - QueryOptimizer - INFO - Optimized query: To get the total online sales amount count, we will assume that `Sales_SalesOrderDetail` table has the necessary data for online sales with the `OnlineOrderFlag` column identifying online orders. Here's the MySQL query for fetching the count of total online sales amount:

```sql
SELECT COUNT(*) AS TotalOnlineSalesCount
FROM Sales_SalesOrderDetail sod
JOIN Sales_SalesOrderHeader soh ON sod.SalesOrderID = soh.SalesOrderID
WHERE soh.OnlineOrderFlag = 1;
```

This query will return the count of all online sales amounts by joining `Sales_SalesOrderDetail` with `Sales_SalesOrderHeader` on `SalesOrderID` and filtering based on `Online;
2025-03-02 17:53:54,501 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 17:53:54,501 - QueryCache - INFO - Cache set for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604 with query: To get the total online sales amount count, we will assume that `Sales_SalesOrderDetail` table has the necessary data for online sales with the `OnlineOrderFlag` column identifying online orders. Here's the MySQL query for fetching the count of total online sales amount:

```sql
SELECT COUNT(*) AS TotalOnlineSalesCount
FROM Sales_SalesOrderDetail sod
JOIN Sales_SalesOrderHeader soh ON sod.SalesOrderID = soh.SalesOrderID
WHERE soh.OnlineOrderFlag = 1;
```

This query will return the count of all online sales amounts by joining `Sales_SalesOrderDetail` with `Sales_SalesOrderHeader` on `SalesOrderID` and filtering based on `Online;
2025-03-02 17:53:54,501 - database_query - INFO - Generated and optimized query: To get the total online sales amount count, we will assume that `Sales_SalesOrderDetail` table has the necessary data for online sales with the `OnlineOrderFlag` column identifying online orders. Here's the MySQL query for fetching the count of total online sales amount:

```sql
SELECT COUNT(*) AS TotalOnlineSalesCount
FROM Sales_SalesOrderDetail sod
JOIN Sales_SalesOrderHeader soh ON sod.SalesOrderID = soh.SalesOrderID
WHERE soh.OnlineOrderFlag = 1;
```

This query will return the count of all online sales amounts by joining `Sales_SalesOrderDetail` with `Sales_SalesOrderHeader` on `SalesOrderID` and filtering based on `Online;
2025-03-02 17:53:54,512 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:00:47,988 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:00:49,068 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:00:49,069 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:00:49,069 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:00:49,069 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:00:49,070 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:00:49,070 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:00:49,301 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:00:49,336 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:00:49,546 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:00:49,562 - database_query - INFO - Schema Config: {
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}
2025-03-02 18:00:49,566 - QueryCache - INFO - Cache get for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604: None
2025-03-02 18:00:49,566 - prompttemplate - INFO - Generating MySQL prompt for query: Give me total online sales amount count
2025-03-02 18:00:49,566 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me total online sales amount count

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:00:50,561 - ai_clients - INFO - Generated query: ```mysql
SELECT SUM(LineTotal) AS total_sales_amount
FROM Sales_SalesOrderDetail;
``` (latency: 0.98s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 22,
  "total_tokens": 8830,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:00:50,561 - QueryOptimizer - INFO - Optimized query: ```mysql
SELECT SUM(LineTotal) AS total_sales_amount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:00:50,561 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:00:50,562 - QueryCache - INFO - Cache set for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604 with query: ```mysql
SELECT SUM(LineTotal) AS total_sales_amount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:00:50,562 - database_query - INFO - Generated and optimized query: ```mysql
SELECT SUM(LineTotal) AS total_sales_amount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:00:50,580 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:01:43,623 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:01:43,623 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:01:43,623 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:01:43,623 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:01:43,623 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:01:43,624 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:01:43,634 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:01:43,643 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:01:43,728 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:01:43,730 - database_query - INFO - Schema Config: {
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}
2025-03-02 18:01:43,731 - QueryCache - INFO - Cache get for key 7032708d0b971e0d2264eace955f5fb4525aa6224a730efa76831fc8961f6507: None
2025-03-02 18:01:43,731 - prompttemplate - INFO - Generating MySQL prompt for query: Count of employee birthdays in the month of jan
2025-03-02 18:01:43,731 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Count of employee birthdays in the month of jan

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:01:44,831 - ai_clients - INFO - Generated query: ```sql
SELECT COUNT(*) AS BirthdayCount
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
``` (latency: 1.10s, usage: {
  "prompt_tokens": 8810,
  "completion_tokens": 28,
  "total_tokens": 8838,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:01:44,831 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT COUNT(*) AS BirthdayCount
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
```;
2025-03-02 18:01:44,831 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:01:44,831 - QueryCache - INFO - Cache set for key 7032708d0b971e0d2264eace955f5fb4525aa6224a730efa76831fc8961f6507 with query: ```sql
SELECT COUNT(*) AS BirthdayCount
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
```;
2025-03-02 18:01:44,831 - database_query - INFO - Generated and optimized query: ```sql
SELECT COUNT(*) AS BirthdayCount
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
```;
2025-03-02 18:01:44,845 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:26:19,992 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:26:21,454 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:26:21,454 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:26:21,454 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:26:21,454 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:26:21,454 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:26:21,454 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:26:21,552 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:26:21,591 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:26:21,683 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:26:21,686 - QueryCache - INFO - Cache get for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604: None
2025-03-02 18:26:21,686 - prompttemplate - INFO - Generating MySQL prompt for query: Give me total online sales amount count
2025-03-02 18:26:21,686 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me total online sales amount count

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:26:22,735 - ai_clients - INFO - Generated query: ```sql
SELECT SUM(LineTotal) AS total_sales_amount FROM Sales_SalesOrderDetail;
``` (latency: 1.05s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 21,
  "total_tokens": 8829,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:26:22,735 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT SUM(LineTotal) AS total_sales_amount FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:26:22,735 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:26:22,735 - QueryCache - INFO - Cache set for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604 with query: ```sql
SELECT SUM(LineTotal) AS total_sales_amount FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:26:22,735 - database_query - INFO - Generated and optimized query: ```sql
SELECT SUM(LineTotal) AS total_sales_amount FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:26:22,746 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:27:12,945 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:27:12,946 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:27:12,946 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:27:12,946 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:27:12,946 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:27:12,946 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:27:12,960 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:27:12,964 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:27:13,040 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:27:13,041 - QueryCache - INFO - Cache get for key 8fcaf657365462221cfa12870e602010a765db882ed3822c6b0c7033b52bc609: None
2025-03-02 18:27:13,041 - prompttemplate - INFO - Generating MySQL prompt for query: List 10 products with least price
2025-03-02 18:27:13,041 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
List 10 products with least price

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:27:13,773 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice
LIMIT 10;
``` (latency: 0.73s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 20,
  "total_tokens": 8828,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:27:13,773 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice
LIMIT 10;
```;
2025-03-02 18:27:13,774 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:27:13,774 - QueryCache - INFO - Cache set for key 8fcaf657365462221cfa12870e602010a765db882ed3822c6b0c7033b52bc609 with query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice
LIMIT 10;
```;
2025-03-02 18:27:13,774 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice
LIMIT 10;
```;
2025-03-02 18:27:13,789 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:28:01,790 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:28:01,793 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:28:01,793 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:28:01,793 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:28:01,793 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:28:01,793 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:28:01,807 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:28:01,812 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:28:01,923 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:28:01,926 - QueryCache - INFO - Cache get for key 8fcaf657365462221cfa12870e602010a765db882ed3822c6b0c7033b52bc609: None
2025-03-02 18:28:01,926 - prompttemplate - INFO - Generating MySQL prompt for query: List 10 products with least price
2025-03-02 18:28:01,926 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
List 10 products with least price

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:28:02,719 - ai_clients - INFO - Generated query: ```sql
SELECT * FROM Production_Product ORDER BY ListPrice LIMIT 10;
``` (latency: 0.79s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 18,
  "total_tokens": 8826,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:28:02,720 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT * FROM Production_Product ORDER BY ListPrice LIMIT 10;
```;
2025-03-02 18:28:02,720 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:28:02,720 - QueryCache - INFO - Cache set for key 8fcaf657365462221cfa12870e602010a765db882ed3822c6b0c7033b52bc609 with query: ```sql
SELECT * FROM Production_Product ORDER BY ListPrice LIMIT 10;
```;
2025-03-02 18:28:02,720 - database_query - INFO - Generated and optimized query: ```sql
SELECT * FROM Production_Product ORDER BY ListPrice LIMIT 10;
```;
2025-03-02 18:28:02,735 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:28:55,869 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:28:55,873 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:28:55,873 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:28:55,873 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:28:55,873 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:28:55,873 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:28:55,873 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:28:55,881 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:28:55,884 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:28:55,973 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:28:55,975 - QueryCache - INFO - Cache get for key 8fcaf657365462221cfa12870e602010a765db882ed3822c6b0c7033b52bc609: None
2025-03-02 18:28:55,975 - prompttemplate - INFO - Generating MySQL prompt for query: List 10 products with least price
2025-03-02 18:28:55,975 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
List 10 products with least price

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:28:56,522 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice
LIMIT 10;
``` (latency: 0.55s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 20,
  "total_tokens": 8828,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:28:56,522 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice
LIMIT 10;
```;
2025-03-02 18:28:56,522 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:28:56,523 - QueryCache - INFO - Cache set for key 8fcaf657365462221cfa12870e602010a765db882ed3822c6b0c7033b52bc609 with query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice
LIMIT 10;
```;
2025-03-02 18:28:56,523 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice
LIMIT 10;
```;
2025-03-02 18:28:56,537 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:29:06,934 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:29:06,934 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:29:06,934 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:29:06,934 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:29:06,935 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:29:06,935 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:29:06,937 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:29:06,937 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:29:06,938 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:29:06,938 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:29:06,938 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:29:06,938 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:29:06,942 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:29:06,946 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:29:06,947 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:29:06,950 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:29:07,054 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:29:07,056 - QueryCache - INFO - Cache get for key 17b71971d68e00ce64d1ba4e0a16954c1e1bb8af800172e08c0e3eb1381ec8fe: None
2025-03-02 18:29:07,057 - prompttemplate - INFO - Generating MySQL prompt for query: List 10 products with max price
2025-03-02 18:29:07,057 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
List 10 products with max price

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:29:07,057 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:29:07,062 - QueryCache - INFO - Cache get for key 17b71971d68e00ce64d1ba4e0a16954c1e1bb8af800172e08c0e3eb1381ec8fe: None
2025-03-02 18:29:07,063 - prompttemplate - INFO - Generating MySQL prompt for query: List 10 products with max price
2025-03-02 18:29:07,063 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
List 10 products with max price

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:29:07,962 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
``` (latency: 0.89s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 21,
  "total_tokens": 8829,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:29:07,962 - ai_clients - INFO - Generated query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
``` (latency: 0.90s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 28,
  "total_tokens": 8836,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:29:07,962 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
```;
2025-03-02 18:29:07,962 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
```;
2025-03-02 18:29:07,962 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:29:07,962 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:29:07,962 - QueryCache - INFO - Cache set for key 17b71971d68e00ce64d1ba4e0a16954c1e1bb8af800172e08c0e3eb1381ec8fe with query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
```;
2025-03-02 18:29:07,962 - QueryCache - INFO - Cache set for key 17b71971d68e00ce64d1ba4e0a16954c1e1bb8af800172e08c0e3eb1381ec8fe with query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
```;
2025-03-02 18:29:07,963 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
```;
2025-03-02 18:29:07,963 - database_query - INFO - Generated and optimized query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 10;
```;
2025-03-02 18:29:07,989 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:31:20,652 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:31:20,652 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:31:20,652 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:31:20,652 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:31:20,652 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:31:20,652 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:31:20,702 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:31:20,730 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:31:20,817 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:31:20,818 - QueryCache - INFO - Cache get for key 45c68e539674fb1bf56da5ec1f1016e111280eb114edaad3da77d7a779e0cf36: None
2025-03-02 18:31:20,818 - prompttemplate - INFO - Generating MySQL prompt for query: Get top 5 most expensive products
2025-03-02 18:31:20,818 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get top 5 most expensive products

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:31:21,621 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:31:21,622 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:31:21,622 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:31:21,623 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:31:21,623 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:31:21,623 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:31:21,634 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:31:21,637 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:31:21,663 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
``` (latency: 0.84s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 21,
  "total_tokens": 8829,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:31:21,663 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:31:21,663 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:31:21,664 - QueryCache - INFO - Cache set for key 45c68e539674fb1bf56da5ec1f1016e111280eb114edaad3da77d7a779e0cf36 with query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:31:21,664 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:31:21,744 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:31:21,745 - QueryCache - INFO - Cache get for key 45c68e539674fb1bf56da5ec1f1016e111280eb114edaad3da77d7a779e0cf36: None
2025-03-02 18:31:21,745 - prompttemplate - INFO - Generating MySQL prompt for query: Get top 5 most expensive products
2025-03-02 18:31:21,745 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get top 5 most expensive products

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:31:22,513 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
``` (latency: 0.77s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 21,
  "total_tokens": 8829,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:31:22,514 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:31:22,514 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:31:22,514 - QueryCache - INFO - Cache set for key 45c68e539674fb1bf56da5ec1f1016e111280eb114edaad3da77d7a779e0cf36 with query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:31:22,515 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:31:22,535 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:32:02,586 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:32:02,587 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:32:02,588 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:32:02,588 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:32:02,588 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:32:02,588 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:32:02,602 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:32:02,606 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:32:02,685 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:32:02,687 - QueryCache - INFO - Cache get for key 2b1c0bbcdd814f260742e68a5359792b36b7a5e6d380c5abf79a9c51e8e9e9ef: None
2025-03-02 18:32:02,687 - prompttemplate - INFO - Generating MySQL prompt for query: Calculate total sales for each sales person:
2025-03-02 18:32:02,687 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Calculate total sales for each sales person:

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:32:03,936 - ai_clients - INFO - Generated query: ```sql
SELECT sp.BusinessEntityID, p.FirstName, p.LastName, SUM(soh.TotalDue) AS TotalSales
FROM Sales_SalesPerson sp
JOIN Person_Person p ON sp.BusinessEntityID = p.BusinessEntityID
JOIN Sales_SalesOrderHeader soh ON sp.BusinessEntityID = soh.SalesPersonID
GROUP BY sp.BusinessEntityID, p.FirstName, p.LastName;
``` (latency: 1.25s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 84,
  "total_tokens": 8892,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:32:03,936 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT sp.BusinessEntityID, p.FirstName, p.LastName, SUM(soh.TotalDue) AS TotalSales
FROM Sales_SalesPerson sp
JOIN Person_Person p ON sp.BusinessEntityID = p.BusinessEntityID
JOIN Sales_SalesOrderHeader soh ON sp.BusinessEntityID = soh.SalesPersonID
GROUP BY sp.BusinessEntityID, p.FirstName, p.LastName;
```;
2025-03-02 18:32:03,937 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:32:03,937 - QueryCache - INFO - Cache set for key 2b1c0bbcdd814f260742e68a5359792b36b7a5e6d380c5abf79a9c51e8e9e9ef with query: ```sql
SELECT sp.BusinessEntityID, p.FirstName, p.LastName, SUM(soh.TotalDue) AS TotalSales
FROM Sales_SalesPerson sp
JOIN Person_Person p ON sp.BusinessEntityID = p.BusinessEntityID
JOIN Sales_SalesOrderHeader soh ON sp.BusinessEntityID = soh.SalesPersonID
GROUP BY sp.BusinessEntityID, p.FirstName, p.LastName;
```;
2025-03-02 18:32:03,937 - database_query - INFO - Generated and optimized query: ```sql
SELECT sp.BusinessEntityID, p.FirstName, p.LastName, SUM(soh.TotalDue) AS TotalSales
FROM Sales_SalesPerson sp
JOIN Person_Person p ON sp.BusinessEntityID = p.BusinessEntityID
JOIN Sales_SalesOrderHeader soh ON sp.BusinessEntityID = soh.SalesPersonID
GROUP BY sp.BusinessEntityID, p.FirstName, p.LastName;
```;
2025-03-02 18:32:03,949 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:33:14,845 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:33:14,846 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:33:14,846 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:33:14,846 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:33:14,846 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:33:14,846 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:33:14,864 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:33:14,867 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:33:14,939 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:33:14,940 - QueryCache - INFO - Cache get for key 233481bb225533ed48f8096194e498873a02cdeafa2020830e55511831810912: None
2025-03-02 18:33:14,940 - prompttemplate - INFO - Generating MySQL prompt for query:  List all customers and their email addresses
2025-03-02 18:33:14,940 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
 List all customers and their email addresses

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:33:16,093 - ai_clients - INFO - Generated query: ```sql
SELECT p.Name AS CustomerName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID;
``` (latency: 1.15s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 38,
  "total_tokens": 8846,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:33:16,093 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT p.Name AS CustomerName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID;
```;
2025-03-02 18:33:16,093 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:33:16,093 - QueryCache - INFO - Cache set for key 233481bb225533ed48f8096194e498873a02cdeafa2020830e55511831810912 with query: ```sql
SELECT p.Name AS CustomerName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID;
```;
2025-03-02 18:33:16,093 - database_query - INFO - Generated and optimized query: ```sql
SELECT p.Name AS CustomerName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID;
```;
2025-03-02 18:33:16,101 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:33:16,201 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:33:16,201 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:33:16,201 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:33:16,201 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:33:16,201 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:33:16,202 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:33:16,209 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:33:16,211 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:33:16,314 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:33:16,317 - QueryCache - INFO - Cache get for key 233481bb225533ed48f8096194e498873a02cdeafa2020830e55511831810912: None
2025-03-02 18:33:16,317 - prompttemplate - INFO - Generating MySQL prompt for query:  List all customers and their email addresses
2025-03-02 18:33:16,317 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
 List all customers and their email addresses

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:33:17,271 - ai_clients - INFO - Generated query: ```sql
SELECT p.FirstName, p.LastName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID;
``` (latency: 0.95s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 38,
  "total_tokens": 8846,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:33:17,271 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT p.FirstName, p.LastName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID;
```;
2025-03-02 18:33:17,271 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:33:17,271 - QueryCache - INFO - Cache set for key 233481bb225533ed48f8096194e498873a02cdeafa2020830e55511831810912 with query: ```sql
SELECT p.FirstName, p.LastName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID;
```;
2025-03-02 18:33:17,272 - database_query - INFO - Generated and optimized query: ```sql
SELECT p.FirstName, p.LastName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID;
```;
2025-03-02 18:33:17,281 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:33:54,075 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:33:54,076 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:33:54,076 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:33:54,076 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:33:54,076 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:33:54,076 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:33:54,087 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:33:54,091 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:33:54,167 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:33:54,168 - QueryCache - INFO - Cache get for key 41930afbb1bf1888227e340750ed42fa1bd8e9bfe432038dcd800a31d42b09bf: None
2025-03-02 18:33:54,168 - prompttemplate - INFO - Generating MySQL prompt for query:  Get total sales by year
2025-03-02 18:33:54,168 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
 Get total sales by year

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:33:55,295 - ai_clients - INFO - Generated query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY OrderYear
ORDER BY OrderYear;
``` (latency: 1.13s, usage: {
  "prompt_tokens": 8806,
  "completion_tokens": 39,
  "total_tokens": 8845,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:33:55,296 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY OrderYear
ORDER BY OrderYear;
```;
2025-03-02 18:33:55,296 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:33:55,296 - QueryCache - INFO - Cache set for key 41930afbb1bf1888227e340750ed42fa1bd8e9bfe432038dcd800a31d42b09bf with query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY OrderYear
ORDER BY OrderYear;
```;
2025-03-02 18:33:55,296 - database_query - INFO - Generated and optimized query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY OrderYear
ORDER BY OrderYear;
```;
2025-03-02 18:33:55,309 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:34:28,709 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:34:28,710 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:34:28,710 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:34:28,710 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:34:28,710 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:34:28,710 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:34:28,718 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:34:28,720 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:34:28,799 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:34:28,800 - QueryCache - INFO - Cache get for key 16356555d456e544cb26982a6cb8d34fb7e0e32cebfb5e38ad64e6b8cd72a858: None
2025-03-02 18:34:28,800 - prompttemplate - INFO - Generating MySQL prompt for query: Find top 5 best-selling products
2025-03-02 18:34:28,800 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find top 5 best-selling products

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:34:30,317 - ai_clients - INFO - Generated query: ```sql
SELECT 
    P.ProductID,
    P.Name,
    SUM(SOD.OrderQty) AS TotalQuantity
FROM Production_Product AS P
JOIN Sales_SalesOrderDetail AS SOD ON P.ProductID = SOD.ProductID
GROUP BY P.ProductID, P.Name
ORDER BY TotalQuantity DESC
LIMIT 5;
``` (latency: 1.52s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 71,
  "total_tokens": 8879,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:34:30,317 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT 
    P.ProductID,
    P.Name,
    SUM(SOD.OrderQty) AS TotalQuantity
FROM Production_Product AS P
JOIN Sales_SalesOrderDetail AS SOD ON P.ProductID = SOD.ProductID
GROUP BY P.ProductID, P.Name
ORDER BY TotalQuantity DESC
LIMIT 5;
```;
2025-03-02 18:34:30,317 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:34:30,317 - QueryCache - INFO - Cache set for key 16356555d456e544cb26982a6cb8d34fb7e0e32cebfb5e38ad64e6b8cd72a858 with query: ```sql
SELECT 
    P.ProductID,
    P.Name,
    SUM(SOD.OrderQty) AS TotalQuantity
FROM Production_Product AS P
JOIN Sales_SalesOrderDetail AS SOD ON P.ProductID = SOD.ProductID
GROUP BY P.ProductID, P.Name
ORDER BY TotalQuantity DESC
LIMIT 5;
```;
2025-03-02 18:34:30,317 - database_query - INFO - Generated and optimized query: ```sql
SELECT 
    P.ProductID,
    P.Name,
    SUM(SOD.OrderQty) AS TotalQuantity
FROM Production_Product AS P
JOIN Sales_SalesOrderDetail AS SOD ON P.ProductID = SOD.ProductID
GROUP BY P.ProductID, P.Name
ORDER BY TotalQuantity DESC
LIMIT 5;
```;
2025-03-02 18:34:30,329 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:35:23,694 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:35:23,695 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:35:23,695 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:35:23,695 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:35:23,695 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:35:23,695 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:35:23,695 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:35:23,706 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:35:23,709 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:35:23,782 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:35:23,783 - QueryCache - INFO - Cache get for key ce66041db4defdcb395c83aa66aae9622777dd16733fef23e9ee0b5ac4e4a993: None
2025-03-02 18:35:23,783 - prompttemplate - INFO - Generating MySQL prompt for query:  1. Find the top 5 most expensive products based on list price
2025-03-02 18:35:23,783 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
 1. Find the top 5 most expensive products based on list price

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:35:24,580 - ai_clients - INFO - Generated query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
``` (latency: 0.80s, usage: {
  "prompt_tokens": 8816,
  "completion_tokens": 28,
  "total_tokens": 8844,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:35:24,581 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:35:24,581 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:35:24,582 - QueryCache - INFO - Cache set for key ce66041db4defdcb395c83aa66aae9622777dd16733fef23e9ee0b5ac4e4a993 with query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:35:24,582 - database_query - INFO - Generated and optimized query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:35:24,596 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:36:16,672 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:36:16,672 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:36:16,672 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:36:16,672 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:36:16,672 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:36:16,672 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:36:16,682 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:36:16,686 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:36:16,761 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:36:16,762 - QueryCache - INFO - Cache get for key bf533e667898c6a4a579d0927ff3e4f5222f19e81b6c8c78327714e528cacdc4: None
2025-03-02 18:36:16,762 - prompttemplate - INFO - Generating MySQL prompt for query: Find the average order quantity for products sold in the last month:
2025-03-02 18:36:16,762 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find the average order quantity for products sold in the last month:

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:36:17,732 - ai_clients - INFO - Generated query: ```sql
SELECT AVG(OrderQty) AS AverageOrderQuantity
FROM Sales_SalesOrderDetail
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 MONTH);
``` (latency: 0.97s, usage: {
  "prompt_tokens": 8813,
  "completion_tokens": 36,
  "total_tokens": 8849,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:36:17,733 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT AVG(OrderQty) AS AverageOrderQuantity
FROM Sales_SalesOrderDetail
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 MONTH);
```;
2025-03-02 18:36:17,733 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:36:17,733 - QueryCache - INFO - Cache set for key bf533e667898c6a4a579d0927ff3e4f5222f19e81b6c8c78327714e528cacdc4 with query: ```sql
SELECT AVG(OrderQty) AS AverageOrderQuantity
FROM Sales_SalesOrderDetail
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 MONTH);
```;
2025-03-02 18:36:17,733 - database_query - INFO - Generated and optimized query: ```sql
SELECT AVG(OrderQty) AS AverageOrderQuantity
FROM Sales_SalesOrderDetail
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 MONTH);
```;
2025-03-02 18:36:17,743 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:36:34,940 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:36:34,940 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:36:34,940 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:36:34,940 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:36:34,940 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:36:34,940 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:36:34,954 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:36:34,956 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:36:35,030 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:36:35,032 - QueryCache - INFO - Cache get for key bf533e667898c6a4a579d0927ff3e4f5222f19e81b6c8c78327714e528cacdc4: None
2025-03-02 18:36:35,032 - prompttemplate - INFO - Generating MySQL prompt for query: Find the average order quantity for products sold in the last month:
2025-03-02 18:36:35,032 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find the average order quantity for products sold in the last month:

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:36:35,862 - ai_clients - INFO - Generated query: ```sql
SELECT AVG(OrderQty) AS AvgOrderQuantity
FROM Sales_SalesOrderDetail
WHERE DATEDIFF(NOW(), OrderDate) <= 30;
``` (latency: 0.83s, usage: {
  "prompt_tokens": 8813,
  "completion_tokens": 36,
  "total_tokens": 8849,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:36:35,862 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT AVG(OrderQty) AS AvgOrderQuantity
FROM Sales_SalesOrderDetail
WHERE DATEDIFF(NOW(), OrderDate) <= 30;
```;
2025-03-02 18:36:35,863 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:36:35,863 - QueryCache - INFO - Cache set for key bf533e667898c6a4a579d0927ff3e4f5222f19e81b6c8c78327714e528cacdc4 with query: ```sql
SELECT AVG(OrderQty) AS AvgOrderQuantity
FROM Sales_SalesOrderDetail
WHERE DATEDIFF(NOW(), OrderDate) <= 30;
```;
2025-03-02 18:36:35,863 - database_query - INFO - Generated and optimized query: ```sql
SELECT AVG(OrderQty) AS AvgOrderQuantity
FROM Sales_SalesOrderDetail
WHERE DATEDIFF(NOW(), OrderDate) <= 30;
```;
2025-03-02 18:36:35,878 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:38:22,302 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:38:24,290 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:38:24,291 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:38:24,291 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:38:24,292 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:38:24,292 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:38:24,292 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:38:24,400 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:38:24,433 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:38:24,529 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:38:24,532 - QueryCache - INFO - Cache get for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604: None
2025-03-02 18:38:24,532 - prompttemplate - INFO - Generating MySQL prompt for query: Give me total online sales amount count
2025-03-02 18:38:24,532 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me total online sales amount count

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:38:25,341 - ai_clients - INFO - Generated query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount FROM Sales_SalesOrderDetail;
``` (latency: 0.81s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 22,
  "total_tokens": 8830,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:38:25,341 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:38:25,342 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:38:25,342 - QueryCache - INFO - Cache set for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604 with query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:38:25,342 - database_query - INFO - Generated and optimized query: ```sql
SELECT SUM(LineTotal) AS total_online_sales_amount FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:38:25,369 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:40:04,894 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:40:06,426 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:40:06,426 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:40:06,427 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:40:06,427 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:40:06,428 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:40:06,430 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:40:06,533 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:40:06,558 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:40:06,699 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:40:06,703 - QueryCache - INFO - Cache get for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604: None
2025-03-02 18:40:06,703 - prompttemplate - INFO - Generating MySQL prompt for query: Give me total online sales amount count
2025-03-02 18:40:06,703 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me total online sales amount count

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:40:07,739 - ai_clients - INFO - Generated query: ```sql
SELECT SUM(UnitPrice * OrderQty) AS total_sales_amount
FROM Sales_SalesOrderDetail;
``` (latency: 1.03s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 25,
  "total_tokens": 8833,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:40:07,739 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT SUM(UnitPrice * OrderQty) AS total_sales_amount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:40:07,740 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:40:07,740 - QueryCache - INFO - Cache set for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604 with query: ```sql
SELECT SUM(UnitPrice * OrderQty) AS total_sales_amount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:40:07,740 - database_query - INFO - Generated and optimized query: ```sql
SELECT SUM(UnitPrice * OrderQty) AS total_sales_amount
FROM Sales_SalesOrderDetail;
```;
2025-03-02 18:40:07,752 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:40:58,576 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:40:58,577 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:40:58,577 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:40:58,577 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:40:58,577 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:40:58,577 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:40:58,585 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:40:58,591 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:40:58,663 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:40:58,664 - QueryCache - INFO - Cache get for key bf533e667898c6a4a579d0927ff3e4f5222f19e81b6c8c78327714e528cacdc4: None
2025-03-02 18:40:58,664 - prompttemplate - INFO - Generating MySQL prompt for query: Find the average order quantity for products sold in the last month:
2025-03-02 18:40:58,664 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find the average order quantity for products sold in the last month:

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:41:00,364 - ai_clients - INFO - Generated query: ```sql
SELECT AVG(OrderQty) AS AverageOrderQuantity
FROM Sales_SalesOrderDetail
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 MONTH);
``` (latency: 1.70s, usage: {
  "prompt_tokens": 8813,
  "completion_tokens": 36,
  "total_tokens": 8849,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:41:00,365 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT AVG(OrderQty) AS AverageOrderQuantity
FROM Sales_SalesOrderDetail
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 MONTH);
```;
2025-03-02 18:41:00,365 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:41:00,365 - QueryCache - INFO - Cache set for key bf533e667898c6a4a579d0927ff3e4f5222f19e81b6c8c78327714e528cacdc4 with query: ```sql
SELECT AVG(OrderQty) AS AverageOrderQuantity
FROM Sales_SalesOrderDetail
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 MONTH);
```;
2025-03-02 18:41:00,365 - database_query - INFO - Generated and optimized query: ```sql
SELECT AVG(OrderQty) AS AverageOrderQuantity
FROM Sales_SalesOrderDetail
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 MONTH);
```;
2025-03-02 18:41:00,377 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:41:26,736 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:41:26,763 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:41:26,763 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:41:26,763 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:41:26,763 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:41:26,763 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:41:26,771 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:41:26,775 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:41:26,850 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:41:26,851 - QueryCache - INFO - Cache get for key 9d9bc471edb62edfc803ca1672379ca767273e4f6e82cb8c8ebe2fab9773a154: None
2025-03-02 18:41:26,851 - prompttemplate - INFO - Generating MySQL prompt for query: Find the total sales amount for each sales order
2025-03-02 18:41:26,851 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find the total sales amount for each sales order

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:41:27,806 - ai_clients - INFO - Generated query: ```sql
SELECT SalesOrderID, SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail
GROUP BY SalesOrderID;
``` (latency: 0.95s, usage: {
  "prompt_tokens": 8810,
  "completion_tokens": 32,
  "total_tokens": 8842,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:41:27,806 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT SalesOrderID, SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail
GROUP BY SalesOrderID;
```;
2025-03-02 18:41:27,806 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:41:27,806 - QueryCache - INFO - Cache set for key 9d9bc471edb62edfc803ca1672379ca767273e4f6e82cb8c8ebe2fab9773a154 with query: ```sql
SELECT SalesOrderID, SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail
GROUP BY SalesOrderID;
```;
2025-03-02 18:41:27,806 - database_query - INFO - Generated and optimized query: ```sql
SELECT SalesOrderID, SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail
GROUP BY SalesOrderID;
```;
2025-03-02 18:41:27,813 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:45:07,311 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:45:07,312 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:45:07,312 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:45:07,312 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:45:07,312 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:45:07,312 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:45:07,412 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:45:07,449 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:45:07,548 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:45:07,553 - QueryCache - INFO - Cache get for key 9d9bc471edb62edfc803ca1672379ca767273e4f6e82cb8c8ebe2fab9773a154: None
2025-03-02 18:45:07,553 - prompttemplate - INFO - Generating MySQL prompt for query: Find the total sales amount for each sales order
2025-03-02 18:45:07,553 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find the total sales amount for each sales order

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:45:08,587 - ai_clients - INFO - Generated query: ```sql
SELECT SalesOrderID, SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail
GROUP BY SalesOrderID;
``` (latency: 1.03s, usage: {
  "prompt_tokens": 8810,
  "completion_tokens": 32,
  "total_tokens": 8842,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:45:08,587 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT SalesOrderID, SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail
GROUP BY SalesOrderID;
```;
2025-03-02 18:45:08,588 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:45:08,588 - QueryCache - INFO - Cache set for key 9d9bc471edb62edfc803ca1672379ca767273e4f6e82cb8c8ebe2fab9773a154 with query: ```sql
SELECT SalesOrderID, SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail
GROUP BY SalesOrderID;
```;
2025-03-02 18:45:08,588 - database_query - INFO - Generated and optimized query: ```sql
SELECT SalesOrderID, SUM(LineTotal) AS TotalSalesAmount
FROM Sales_SalesOrderDetail
GROUP BY SalesOrderID;
```;
2025-03-02 18:45:08,609 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:45:37,990 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:45:37,990 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:45:37,990 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:45:37,990 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:45:37,990 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:45:37,990 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:45:38,002 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:45:38,006 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:45:38,074 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:45:38,075 - QueryCache - INFO - Cache get for key 3f8ab645de1787563f363a5f9efe1ecfdba7c4ad2144d36e5de1e9bad241e82c: None
2025-03-02 18:45:38,075 - prompttemplate - INFO - Generating MySQL prompt for query: Top 5 most expensive products based on list price
2025-03-02 18:45:38,075 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Top 5 most expensive products based on list price

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:45:38,983 - ai_clients - INFO - Generated query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
``` (latency: 0.91s, usage: {
  "prompt_tokens": 8811,
  "completion_tokens": 28,
  "total_tokens": 8839,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:45:38,984 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:45:38,984 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:45:38,985 - QueryCache - INFO - Cache set for key 3f8ab645de1787563f363a5f9efe1ecfdba7c4ad2144d36e5de1e9bad241e82c with query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:45:38,985 - database_query - INFO - Generated and optimized query: ```sql
SELECT ProductID, Name, ListPrice
FROM Production_Product
ORDER BY ListPrice DESC
LIMIT 5;
```;
2025-03-02 18:45:39,015 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:46:08,316 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:46:08,317 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:46:08,317 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:46:08,317 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:46:08,317 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:46:08,317 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:46:08,323 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:46:08,332 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:46:08,411 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:46:08,412 - QueryCache - INFO - Cache get for key cf53e7fc955cce25e37259494a611d2028d8babc3a9a6ac7e027638b0bec0aa2: None
2025-03-02 18:46:08,412 - prompttemplate - INFO - Generating MySQL prompt for query: Get customer details (first name, last name, email) from customers in the "WA" state
2025-03-02 18:46:08,412 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get customer details (first name, last name, email) from customers in the "WA" state

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:46:10,025 - ai_clients - INFO - Generated query: ```sql
SELECT p.FirstName, p.LastName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID
JOIN Person_BusinessEntityAddress bea ON p.BusinessEntityID = bea.BusinessEntityID
JOIN Person_Address a ON bea.AddressID = a.AddressID
JOIN Person_StateProvince sp ON a.StateProvinceID = sp.StateProvinceID
WHERE sp.Name = 'WA';
``` (latency: 1.61s, usage: {
  "prompt_tokens": 8821,
  "completion_tokens": 95,
  "total_tokens": 8916,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:46:10,026 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT p.FirstName, p.LastName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID
JOIN Person_BusinessEntityAddress bea ON p.BusinessEntityID = bea.BusinessEntityID
JOIN Person_Address a ON bea.AddressID = a.AddressID
JOIN Person_StateProvince sp ON a.StateProvinceID = sp.StateProvinceID
WHERE sp.Name = 'WA';
```;
2025-03-02 18:46:10,026 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:46:10,026 - QueryCache - INFO - Cache set for key cf53e7fc955cce25e37259494a611d2028d8babc3a9a6ac7e027638b0bec0aa2 with query: ```sql
SELECT p.FirstName, p.LastName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID
JOIN Person_BusinessEntityAddress bea ON p.BusinessEntityID = bea.BusinessEntityID
JOIN Person_Address a ON bea.AddressID = a.AddressID
JOIN Person_StateProvince sp ON a.StateProvinceID = sp.StateProvinceID
WHERE sp.Name = 'WA';
```;
2025-03-02 18:46:10,026 - database_query - INFO - Generated and optimized query: ```sql
SELECT p.FirstName, p.LastName, e.EmailAddress
FROM Person_Person p
JOIN Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID
JOIN Person_BusinessEntityAddress bea ON p.BusinessEntityID = bea.BusinessEntityID
JOIN Person_Address a ON bea.AddressID = a.AddressID
JOIN Person_StateProvince sp ON a.StateProvinceID = sp.StateProvinceID
WHERE sp.Name = 'WA';
```;
2025-03-02 18:46:10,038 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:46:23,170 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:46:23,171 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:46:23,171 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:46:23,171 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:46:23,171 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:46:23,171 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:46:23,177 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:46:23,179 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:46:23,243 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:46:23,244 - QueryCache - INFO - Cache get for key 7dff2dabe11c92b4b3e0f0724faf460260c8e444c60b940ec824d56544d05ef5: None
2025-03-02 18:46:23,244 - prompttemplate - INFO - Generating MySQL prompt for query: Get customer details (first name, last name, email) from customers in the "TX" state
2025-03-02 18:46:23,244 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get customer details (first name, last name, email) from customers in the "TX" state

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:46:24,739 - ai_clients - INFO - Generated query: ```sql
SELECT 
    FirstName,
    LastName,
    EmailAddress
FROM 
    Person_Person p
JOIN 
    Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID
JOIN 
    Person_BusinessEntityAddress a ON p.BusinessEntityID = a.BusinessEntityID
JOIN 
    Person_Address pa ON a.AddressID = pa.AddressID
JOIN 
    Person_StateProvince sp ON pa.StateProvinceID = sp.StateProvinceID
WHERE 
    sp.StateProvinceCode = 'TX';
``` (latency: 1.49s, usage: {
  "prompt_tokens": 8821,
  "completion_tokens": 107,
  "total_tokens": 8928,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:46:24,740 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT 
    FirstName,
    LastName,
    EmailAddress
FROM 
    Person_Person p
JOIN 
    Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID
JOIN 
    Person_BusinessEntityAddress a ON p.BusinessEntityID = a.BusinessEntityID
JOIN 
    Person_Address pa ON a.AddressID = pa.AddressID
JOIN 
    Person_StateProvince sp ON pa.StateProvinceID = sp.StateProvinceID
WHERE 
    sp.StateProvinceCode = 'TX';
```;
2025-03-02 18:46:24,740 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:46:24,740 - QueryCache - INFO - Cache set for key 7dff2dabe11c92b4b3e0f0724faf460260c8e444c60b940ec824d56544d05ef5 with query: ```sql
SELECT 
    FirstName,
    LastName,
    EmailAddress
FROM 
    Person_Person p
JOIN 
    Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID
JOIN 
    Person_BusinessEntityAddress a ON p.BusinessEntityID = a.BusinessEntityID
JOIN 
    Person_Address pa ON a.AddressID = pa.AddressID
JOIN 
    Person_StateProvince sp ON pa.StateProvinceID = sp.StateProvinceID
WHERE 
    sp.StateProvinceCode = 'TX';
```;
2025-03-02 18:46:24,740 - database_query - INFO - Generated and optimized query: ```sql
SELECT 
    FirstName,
    LastName,
    EmailAddress
FROM 
    Person_Person p
JOIN 
    Person_EmailAddress e ON p.BusinessEntityID = e.BusinessEntityID
JOIN 
    Person_BusinessEntityAddress a ON p.BusinessEntityID = a.BusinessEntityID
JOIN 
    Person_Address pa ON a.AddressID = pa.AddressID
JOIN 
    Person_StateProvince sp ON pa.StateProvinceID = sp.StateProvinceID
WHERE 
    sp.StateProvinceCode = 'TX';
```;
2025-03-02 18:46:24,755 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:47:40,607 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:47:40,608 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:47:40,608 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:47:40,608 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:47:40,608 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:47:40,608 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:47:40,620 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:47:40,622 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:47:40,701 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:47:40,702 - QueryCache - INFO - Cache get for key 2fe4cea390a7d486c7dd399ad6fdc03458177661459f4fdf262dd1db4d8cc3f5: None
2025-03-02 18:47:40,702 - prompttemplate - INFO - Generating MySQL prompt for query: Get Total Sales by Year
2025-03-02 18:47:40,702 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get Total Sales by Year

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:47:41,880 - ai_clients - INFO - Generated query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY OrderYear;
``` (latency: 1.18s, usage: {
  "prompt_tokens": 8806,
  "completion_tokens": 41,
  "total_tokens": 8847,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:47:41,880 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY OrderYear;
```;
2025-03-02 18:47:41,880 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:47:41,880 - QueryCache - INFO - Cache set for key 2fe4cea390a7d486c7dd399ad6fdc03458177661459f4fdf262dd1db4d8cc3f5 with query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY OrderYear;
```;
2025-03-02 18:47:41,881 - database_query - INFO - Generated and optimized query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY OrderYear;
```;
2025-03-02 18:47:41,892 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:48:29,435 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:48:29,437 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:48:29,437 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:48:29,437 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:48:29,437 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:48:29,437 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:48:29,447 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:48:29,451 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:48:29,528 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:48:29,529 - QueryCache - INFO - Cache get for key 0584994551646be47d0799cd49583d2a324ca020dcbdf67af74b4a5f7209bf4d: None
2025-03-02 18:48:29,529 - prompttemplate - INFO - Generating MySQL prompt for query: Find Top 5 Best-Selling Products

2025-03-02 18:48:29,529 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Top 5 Best-Selling Products


Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:48:30,496 - ai_clients - INFO - Generated query: ```sql
SELECT ProductID, Name, SUM(OrderQty) AS TotalQuantitySold
FROM Sales_SalesOrderDetail
GROUP BY ProductID, Name
ORDER BY TotalQuantitySold DESC
LIMIT 5;
``` (latency: 0.97s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 45,
  "total_tokens": 8854,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:48:30,496 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT ProductID, Name, SUM(OrderQty) AS TotalQuantitySold
FROM Sales_SalesOrderDetail
GROUP BY ProductID, Name
ORDER BY TotalQuantitySold DESC
LIMIT 5;
```;
2025-03-02 18:48:30,496 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:48:30,496 - QueryCache - INFO - Cache set for key 0584994551646be47d0799cd49583d2a324ca020dcbdf67af74b4a5f7209bf4d with query: ```sql
SELECT ProductID, Name, SUM(OrderQty) AS TotalQuantitySold
FROM Sales_SalesOrderDetail
GROUP BY ProductID, Name
ORDER BY TotalQuantitySold DESC
LIMIT 5;
```;
2025-03-02 18:48:30,496 - database_query - INFO - Generated and optimized query: ```sql
SELECT ProductID, Name, SUM(OrderQty) AS TotalQuantitySold
FROM Sales_SalesOrderDetail
GROUP BY ProductID, Name
ORDER BY TotalQuantitySold DESC
LIMIT 5;
```;
2025-03-02 18:48:30,504 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:49:05,372 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:49:05,373 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:49:05,373 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:49:05,373 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:49:05,373 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:49:05,373 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:49:05,381 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:49:05,386 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:49:05,451 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:49:05,452 - QueryCache - INFO - Cache get for key f3f63c52ed96feaa66fa775d1602dda8246d8855a3e34ff53d68a3890a708dbc: None
2025-03-02 18:49:05,452 - prompttemplate - INFO - Generating MySQL prompt for query: Find Products That Have Never Been Sold

2025-03-02 18:49:05,452 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Products That Have Never Been Sold


Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:49:06,384 - ai_clients - INFO - Generated query: ```sql
SELECT p.ProductID, p.Name
FROM Production_Product p
WHERE NOT EXISTS (
    SELECT 1
    FROM Sales_SalesOrderDetail sod
    WHERE sod.ProductID = p.ProductID
);
``` (latency: 0.93s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 47,
  "total_tokens": 8855,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:49:06,385 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT p.ProductID, p.Name
FROM Production_Product p
WHERE NOT EXISTS (
    SELECT 1
    FROM Sales_SalesOrderDetail sod
    WHERE sod.ProductID = p.ProductID
);
```;
2025-03-02 18:49:06,385 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:49:06,385 - QueryCache - INFO - Cache set for key f3f63c52ed96feaa66fa775d1602dda8246d8855a3e34ff53d68a3890a708dbc with query: ```sql
SELECT p.ProductID, p.Name
FROM Production_Product p
WHERE NOT EXISTS (
    SELECT 1
    FROM Sales_SalesOrderDetail sod
    WHERE sod.ProductID = p.ProductID
);
```;
2025-03-02 18:49:06,385 - database_query - INFO - Generated and optimized query: ```sql
SELECT p.ProductID, p.Name
FROM Production_Product p
WHERE NOT EXISTS (
    SELECT 1
    FROM Sales_SalesOrderDetail sod
    WHERE sod.ProductID = p.ProductID
);
```;
2025-03-02 18:49:06,399 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:50:40,499 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:50:43,397 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:50:43,397 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:50:43,397 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:50:43,397 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:50:43,397 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:50:43,398 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:50:43,426 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:50:43,438 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:50:43,546 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:50:43,550 - QueryCache - INFO - Cache get for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604: None
2025-03-02 18:50:43,550 - prompttemplate - INFO - Generating MySQL prompt for query: Give me total online sales amount count
2025-03-02 18:50:43,550 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Give me total online sales amount count

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:50:45,396 - ai_clients - INFO - Generated query: To get the total online sales amount count, you can use the following MySQL query:

```sql
SELECT COUNT(*) AS total_online_sales_amount_count
FROM Sales_SalesOrderHeader
WHERE OnlineOrderFlag = 1;
```

This query will count the number of online sales orders where `OnlineOrderFlag` is equal to 1.

Make sure you have appropriate indexes on the `Sales_SalesOrderHeader` table, especially on the `OnlineOrderFlag` column, to ensure optimal performance. (latency: 1.84s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 102,
  "total_tokens": 8910,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:50:45,396 - QueryOptimizer - INFO - Optimized query: To get the total online sales amount count, you can use the following MySQL query:

```sql
SELECT COUNT(*) AS total_online_sales_amount_count
FROM Sales_SalesOrderHeader
WHERE OnlineOrderFlag = 1;
```

This query will count the number of online sales orders where `OnlineOrderFlag` is equal to 1.

Make sure you have appropriate indexes on the `Sales_SalesOrderHeader` table, especially on the `OnlineOrderFlag` column, to ensure optimal performance.;
2025-03-02 18:50:45,396 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:50:45,397 - QueryCache - INFO - Cache set for key 3357619f72d8eb092d59de07a9b8260503382301266975e229f992837532f604 with query: To get the total online sales amount count, you can use the following MySQL query:

```sql
SELECT COUNT(*) AS total_online_sales_amount_count
FROM Sales_SalesOrderHeader
WHERE OnlineOrderFlag = 1;
```

This query will count the number of online sales orders where `OnlineOrderFlag` is equal to 1.

Make sure you have appropriate indexes on the `Sales_SalesOrderHeader` table, especially on the `OnlineOrderFlag` column, to ensure optimal performance.;
2025-03-02 18:50:45,397 - database_query - INFO - Generated and optimized query: To get the total online sales amount count, you can use the following MySQL query:

```sql
SELECT COUNT(*) AS total_online_sales_amount_count
FROM Sales_SalesOrderHeader
WHERE OnlineOrderFlag = 1;
```

This query will count the number of online sales orders where `OnlineOrderFlag` is equal to 1.

Make sure you have appropriate indexes on the `Sales_SalesOrderHeader` table, especially on the `OnlineOrderFlag` column, to ensure optimal performance.;
2025-03-02 18:50:45,409 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:50:52,603 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:50:52,603 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:50:52,603 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:50:52,603 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:50:52,603 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:50:52,603 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:50:52,609 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:50:52,611 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:50:52,684 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:50:52,685 - QueryCache - INFO - Cache get for key 159314b4280325eb0cf230df43ec1a8352f00c385451f20416a736d2d79b6afc: None
2025-03-02 18:50:52,686 - prompttemplate - INFO - Generating MySQL prompt for query: Find Products That Have Never Been Sold
2025-03-02 18:50:52,686 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Products That Have Never Been Sold

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:50:53,677 - ai_clients - INFO - Generated query: ```sql
SELECT p.*
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
``` (latency: 0.99s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 37,
  "total_tokens": 8845,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:50:53,677 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT p.*
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
```;
2025-03-02 18:50:53,678 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:50:53,678 - QueryCache - INFO - Cache set for key 159314b4280325eb0cf230df43ec1a8352f00c385451f20416a736d2d79b6afc with query: ```sql
SELECT p.*
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
```;
2025-03-02 18:50:53,678 - database_query - INFO - Generated and optimized query: ```sql
SELECT p.*
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
```;
2025-03-02 18:50:53,686 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:51:03,117 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:51:03,117 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:51:03,117 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:51:03,117 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:51:03,117 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:51:03,117 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:51:03,123 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:51:03,124 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:51:03,200 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:51:03,201 - QueryCache - INFO - Cache get for key 90036ba5042ba64ca6ed456ec129e74cb2e8ec5a6d594740ee3f1bbfe10d5942: None
2025-03-02 18:51:03,201 - prompttemplate - INFO - Generating MySQL prompt for query: Find Employees Hired After 2015
2025-03-02 18:51:03,201 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Employees Hired After 2015

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:51:03,977 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:51:03,977 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:51:03,977 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:51:03,978 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:51:03,978 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:51:03,979 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:51:03,992 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:51:03,994 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:51:04,004 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
``` (latency: 0.80s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 25,
  "total_tokens": 8834,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:51:04,005 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
```;
2025-03-02 18:51:04,005 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:51:04,005 - QueryCache - INFO - Cache set for key 90036ba5042ba64ca6ed456ec129e74cb2e8ec5a6d594740ee3f1bbfe10d5942 with query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
```;
2025-03-02 18:51:04,005 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
```;
2025-03-02 18:51:04,108 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:51:04,109 - QueryCache - INFO - Cache get for key 90036ba5042ba64ca6ed456ec129e74cb2e8ec5a6d594740ee3f1bbfe10d5942: None
2025-03-02 18:51:04,109 - prompttemplate - INFO - Generating MySQL prompt for query: Find Employees Hired After 2015
2025-03-02 18:51:04,109 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Employees Hired After 2015

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:51:04,853 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
``` (latency: 0.74s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 25,
  "total_tokens": 8834,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:51:04,853 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
```;
2025-03-02 18:51:04,854 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:51:04,855 - QueryCache - INFO - Cache set for key 90036ba5042ba64ca6ed456ec129e74cb2e8ec5a6d594740ee3f1bbfe10d5942 with query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
```;
2025-03-02 18:51:04,855 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
```;
2025-03-02 18:51:04,872 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:51:18,206 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:51:18,207 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:51:18,207 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:51:18,208 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:51:18,208 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:51:18,208 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:51:18,216 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:51:18,220 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:51:18,297 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:51:18,298 - QueryCache - INFO - Cache get for key 50daef8fda840e14a39b114c72be2d75e9d23be5edba97d7874ae7811afd4b7d: None
2025-03-02 18:51:18,298 - prompttemplate - INFO - Generating MySQL prompt for query: Retrieve Customers Who Have Placed More Than 5 Orders
2025-03-02 18:51:18,298 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Retrieve Customers Who Have Placed More Than 5 Orders

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:51:19,378 - ai_clients - INFO - Generated query: ```sql
SELECT CustomerID, COUNT(*) AS OrderCount
FROM Sales_SalesOrderHeader
GROUP BY CustomerID
HAVING OrderCount > 5;
``` (latency: 1.08s, usage: {
  "prompt_tokens": 8812,
  "completion_tokens": 35,
  "total_tokens": 8847,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:51:19,381 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT CustomerID, COUNT(*) AS OrderCount
FROM Sales_SalesOrderHeader
GROUP BY CustomerID
HAVING OrderCount > 5;
```;
2025-03-02 18:51:19,381 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:51:19,381 - QueryCache - INFO - Cache set for key 50daef8fda840e14a39b114c72be2d75e9d23be5edba97d7874ae7811afd4b7d with query: ```sql
SELECT CustomerID, COUNT(*) AS OrderCount
FROM Sales_SalesOrderHeader
GROUP BY CustomerID
HAVING OrderCount > 5;
```;
2025-03-02 18:51:19,381 - database_query - INFO - Generated and optimized query: ```sql
SELECT CustomerID, COUNT(*) AS OrderCount
FROM Sales_SalesOrderHeader
GROUP BY CustomerID
HAVING OrderCount > 5;
```;
2025-03-02 18:51:19,392 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:52:09,022 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:52:19,099 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:52:19,100 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:52:19,100 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:52:19,100 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:52:19,100 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:52:19,100 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:52:19,204 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:52:19,240 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:52:19,390 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:52:19,393 - QueryCache - INFO - Cache get for key 50daef8fda840e14a39b114c72be2d75e9d23be5edba97d7874ae7811afd4b7d: None
2025-03-02 18:52:19,393 - prompttemplate - INFO - Generating MySQL prompt for query: Retrieve Customers Who Have Placed More Than 5 Orders
2025-03-02 18:52:19,393 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Retrieve Customers Who Have Placed More Than 5 Orders

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:52:20,674 - ai_clients - INFO - Generated query: ```sql
SELECT CustomerID
FROM Sales_Customer
GROUP BY CustomerID
HAVING COUNT(CustomerID) > 5;
``` (latency: 1.27s, usage: {
  "prompt_tokens": 8812,
  "completion_tokens": 28,
  "total_tokens": 8840,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:52:20,675 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT CustomerID
FROM Sales_Customer
GROUP BY CustomerID
HAVING COUNT(CustomerID) > 5;
```;
2025-03-02 18:52:20,675 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:52:20,675 - QueryCache - INFO - Cache set for key 50daef8fda840e14a39b114c72be2d75e9d23be5edba97d7874ae7811afd4b7d with query: ```sql
SELECT CustomerID
FROM Sales_Customer
GROUP BY CustomerID
HAVING COUNT(CustomerID) > 5;
```;
2025-03-02 18:52:20,676 - database_query - INFO - Generated and optimized query: ```sql
SELECT CustomerID
FROM Sales_Customer
GROUP BY CustomerID
HAVING COUNT(CustomerID) > 5;
```;
2025-03-02 18:52:20,690 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:52:41,207 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:52:41,207 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:52:41,207 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:52:41,207 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:52:41,207 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:52:41,207 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:52:41,217 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:52:41,225 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:52:41,301 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:52:41,302 - QueryCache - INFO - Cache get for key 2fe4cea390a7d486c7dd399ad6fdc03458177661459f4fdf262dd1db4d8cc3f5: None
2025-03-02 18:52:41,302 - prompttemplate - INFO - Generating MySQL prompt for query: Get Total Sales by Year
2025-03-02 18:52:41,303 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get Total Sales by Year

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:52:42,321 - ai_clients - INFO - Generated query: ```sql
SELECT YEAR(OrderDate) AS SalesYear, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY SalesYear;
``` (latency: 1.02s, usage: {
  "prompt_tokens": 8806,
  "completion_tokens": 41,
  "total_tokens": 8847,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:52:42,321 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT YEAR(OrderDate) AS SalesYear, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY SalesYear;
```;
2025-03-02 18:52:42,321 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:52:42,322 - QueryCache - INFO - Cache set for key 2fe4cea390a7d486c7dd399ad6fdc03458177661459f4fdf262dd1db4d8cc3f5 with query: ```sql
SELECT YEAR(OrderDate) AS SalesYear, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY SalesYear;
```;
2025-03-02 18:52:42,322 - database_query - INFO - Generated and optimized query: ```sql
SELECT YEAR(OrderDate) AS SalesYear, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY SalesYear;
```;
2025-03-02 18:52:42,331 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:55:13,112 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:55:20,322 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:55:20,323 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:55:20,323 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:55:20,323 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:55:20,323 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:55:20,323 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:55:20,422 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:55:20,458 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:55:20,558 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:55:20,561 - QueryCache - INFO - Cache get for key 2fe4cea390a7d486c7dd399ad6fdc03458177661459f4fdf262dd1db4d8cc3f5: None
2025-03-02 18:55:20,561 - prompttemplate - INFO - Generating MySQL prompt for query: Get Total Sales by Year
2025-03-02 18:55:20,562 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get Total Sales by Year

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:55:21,729 - ai_clients - INFO - Generated query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY Year(OrderDate)
ORDER BY OrderYear;
``` (latency: 1.17s, usage: {
  "prompt_tokens": 8806,
  "completion_tokens": 40,
  "total_tokens": 8846,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:55:21,729 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY Year(OrderDate)
ORDER BY OrderYear;
```;
2025-03-02 18:55:21,730 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:55:21,730 - QueryCache - INFO - Cache set for key 2fe4cea390a7d486c7dd399ad6fdc03458177661459f4fdf262dd1db4d8cc3f5 with query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY Year(OrderDate)
ORDER BY OrderYear;
```;
2025-03-02 18:55:21,730 - database_query - INFO - Generated and optimized query: ```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY Year(OrderDate)
ORDER BY OrderYear;
```;
2025-03-02 18:55:21,743 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:56:21,401 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:56:21,403 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:56:21,403 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:56:21,403 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:56:21,403 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:56:21,403 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:56:21,421 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:56:21,425 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:56:21,513 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:56:21,515 - QueryCache - INFO - Cache get for key 2fe4cea390a7d486c7dd399ad6fdc03458177661459f4fdf262dd1db4d8cc3f5: None
2025-03-02 18:56:21,516 - prompttemplate - INFO - Generating MySQL prompt for query: Get Total Sales by Year
2025-03-02 18:56:21,516 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get Total Sales by Year

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:56:22,692 - ai_clients - INFO - Generated query: ```sql
SELECT YEAR(OrderDate) AS Year, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY Year;
``` (latency: 1.17s, usage: {
  "prompt_tokens": 8806,
  "completion_tokens": 39,
  "total_tokens": 8845,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:56:22,693 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT YEAR(OrderDate) AS Year, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY Year;
```;
2025-03-02 18:56:22,693 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:56:22,693 - QueryCache - INFO - Cache set for key 2fe4cea390a7d486c7dd399ad6fdc03458177661459f4fdf262dd1db4d8cc3f5 with query: ```sql
SELECT YEAR(OrderDate) AS Year, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY Year;
```;
2025-03-02 18:56:22,693 - database_query - INFO - Generated and optimized query: ```sql
SELECT YEAR(OrderDate) AS Year, SUM(TotalDue) AS TotalSales
FROM Sales_SalesOrderHeader
GROUP BY YEAR(OrderDate)
ORDER BY Year;
```;
2025-03-02 18:56:22,709 - database_query - INFO - Connected to MySQL database.
2025-03-02 18:59:49,907 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 18:59:49,907 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 18:59:49,907 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 18:59:49,907 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 18:59:49,907 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 18:59:49,907 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 18:59:49,973 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 18:59:49,996 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 18:59:50,074 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 18:59:50,076 - QueryCache - INFO - Cache get for key b5ce2bb68a0ba6c4781a31a4500fffc4246e6e39d2e2d4d9921d1addca37b10a: None
2025-03-02 18:59:50,076 - prompttemplate - INFO - Generating MySQL prompt for query: Find Top 5 Best-Selling Products
2025-03-02 18:59:50,077 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Top 5 Best-Selling Products

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 18:59:51,250 - ai_clients - INFO - Generated query: ```sql
SELECT p.ProductID, p.Name, SUM(sod.OrderQty) AS TotalQuantity
FROM Production_Product p
JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
GROUP BY p.ProductID, p.Name
ORDER BY TotalQuantity DESC
LIMIT 5;
``` (latency: 1.17s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 63,
  "total_tokens": 8872,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 18:59:51,250 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT p.ProductID, p.Name, SUM(sod.OrderQty) AS TotalQuantity
FROM Production_Product p
JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
GROUP BY p.ProductID, p.Name
ORDER BY TotalQuantity DESC
LIMIT 5;
```;
2025-03-02 18:59:51,251 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 18:59:51,251 - QueryCache - INFO - Cache set for key b5ce2bb68a0ba6c4781a31a4500fffc4246e6e39d2e2d4d9921d1addca37b10a with query: ```sql
SELECT p.ProductID, p.Name, SUM(sod.OrderQty) AS TotalQuantity
FROM Production_Product p
JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
GROUP BY p.ProductID, p.Name
ORDER BY TotalQuantity DESC
LIMIT 5;
```;
2025-03-02 18:59:51,251 - database_query - INFO - Generated and optimized query: ```sql
SELECT p.ProductID, p.Name, SUM(sod.OrderQty) AS TotalQuantity
FROM Production_Product p
JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
GROUP BY p.ProductID, p.Name
ORDER BY TotalQuantity DESC
LIMIT 5;
```;
2025-03-02 18:59:51,265 - database_query - INFO - Connected to MySQL database.
2025-03-02 19:01:39,500 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 19:01:39,501 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 19:01:39,501 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 19:01:39,501 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 19:01:39,501 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 19:01:39,501 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 19:01:39,558 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 19:01:39,589 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 19:01:39,670 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 19:01:39,672 - QueryCache - INFO - Cache get for key 90036ba5042ba64ca6ed456ec129e74cb2e8ec5a6d594740ee3f1bbfe10d5942: None
2025-03-02 19:01:39,672 - prompttemplate - INFO - Generating MySQL prompt for query: Find Employees Hired After 2015
2025-03-02 19:01:39,672 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Employees Hired After 2015

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 19:01:40,650 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
``` (latency: 0.97s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 25,
  "total_tokens": 8834,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 19:01:40,650 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
```;
2025-03-02 19:01:40,650 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 19:01:40,650 - QueryCache - INFO - Cache set for key 90036ba5042ba64ca6ed456ec129e74cb2e8ec5a6d594740ee3f1bbfe10d5942 with query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
```;
2025-03-02 19:01:40,650 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2015-01-01';
```;
2025-03-02 19:01:40,656 - database_query - INFO - Connected to MySQL database.
2025-03-02 19:01:47,952 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 19:01:47,953 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 19:01:47,953 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 19:01:47,953 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 19:01:47,953 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 19:01:47,953 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 19:01:47,962 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 19:01:47,964 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 19:01:48,040 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 19:01:48,041 - QueryCache - INFO - Cache get for key 0b27661df1dd9d2112ea398da53d531c6de5622d100a91b71ad414fe7f468ccb: None
2025-03-02 19:01:48,041 - prompttemplate - INFO - Generating MySQL prompt for query: Find Employees Hired After 2019
2025-03-02 19:01:48,041 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Employees Hired After 2019

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 19:01:48,913 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2019-01-01';
``` (latency: 0.87s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 25,
  "total_tokens": 8834,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 19:01:48,913 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2019-01-01';
```;
2025-03-02 19:01:48,913 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 19:01:48,914 - QueryCache - INFO - Cache set for key 0b27661df1dd9d2112ea398da53d531c6de5622d100a91b71ad414fe7f468ccb with query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2019-01-01';
```;
2025-03-02 19:01:48,914 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2019-01-01';
```;
2025-03-02 19:01:48,925 - database_query - INFO - Connected to MySQL database.
2025-03-02 19:01:53,247 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 19:01:53,247 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 19:01:53,247 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 19:01:53,247 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 19:01:53,247 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 19:01:53,247 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 19:01:53,253 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 19:01:53,256 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 19:01:53,331 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 19:01:53,332 - QueryCache - INFO - Cache get for key 7de03fda1341fdaf34ff10e0f971ddafdf6a508184a57181ded00c9da84a77e6: None
2025-03-02 19:01:53,332 - prompttemplate - INFO - Generating MySQL prompt for query: Find Employees Hired After 2020
2025-03-02 19:01:53,332 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Employees Hired After 2020

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 19:01:54,273 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2020-01-01';
``` (latency: 0.94s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 25,
  "total_tokens": 8834,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 19:01:54,273 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2020-01-01';
```;
2025-03-02 19:01:54,274 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 19:01:54,274 - QueryCache - INFO - Cache set for key 7de03fda1341fdaf34ff10e0f971ddafdf6a508184a57181ded00c9da84a77e6 with query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2020-01-01';
```;
2025-03-02 19:01:54,274 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM HumanResources_Employee
WHERE HireDate > '2020-01-01';
```;
2025-03-02 19:01:54,286 - database_query - INFO - Connected to MySQL database.
2025-03-02 19:02:05,781 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 19:02:05,781 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 19:02:05,781 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 19:02:05,781 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 19:02:05,782 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 19:02:05,782 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 19:02:05,791 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 19:02:05,793 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 19:02:05,867 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 19:02:05,868 - QueryCache - INFO - Cache get for key f3f63c52ed96feaa66fa775d1602dda8246d8855a3e34ff53d68a3890a708dbc: None
2025-03-02 19:02:05,868 - prompttemplate - INFO - Generating MySQL prompt for query: Find Products That Have Never Been Sold

2025-03-02 19:02:05,868 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Products That Have Never Been Sold


Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 19:02:08,450 - ai_clients - INFO - Generated query: ```sql
SELECT p.*
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
``` (latency: 2.58s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 37,
  "total_tokens": 8845,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 19:02:08,451 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT p.*
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
```;
2025-03-02 19:02:08,451 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 19:02:08,451 - QueryCache - INFO - Cache set for key f3f63c52ed96feaa66fa775d1602dda8246d8855a3e34ff53d68a3890a708dbc with query: ```sql
SELECT p.*
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
```;
2025-03-02 19:02:08,451 - database_query - INFO - Generated and optimized query: ```sql
SELECT p.*
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
```;
2025-03-02 19:02:08,466 - database_query - INFO - Connected to MySQL database.
2025-03-02 19:08:10,603 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 19:08:10,603 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 19:08:10,603 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 19:08:10,603 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 19:08:10,603 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 19:08:10,603 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 19:08:10,655 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 19:08:10,677 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 19:08:10,751 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 19:08:10,753 - QueryCache - INFO - Cache get for key 5ea023aefae6f3b8cf794a24e83f7c7fe3eb433369a8b46a76dde8eb36fa29dc: None
2025-03-02 19:08:10,753 - prompttemplate - INFO - Generating MySQL prompt for query: Get Total Revenue per Customer
2025-03-02 19:08:10,753 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get Total Revenue per Customer

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 19:08:12,212 - ai_clients - INFO - Generated query: ```sql
SELECT customer.CustomerID, SUM(detail.UnitPrice * detail.OrderQty) AS TotalRevenue
FROM Sales_Customer customer
JOIN Sales_SalesOrderHeader header ON customer.CustomerID = header.CustomerID
JOIN Sales_SalesOrderDetail detail ON header.SalesOrderID = detail.SalesOrderID
GROUP BY customer.CustomerID;
``` (latency: 1.46s, usage: {
  "prompt_tokens": 8806,
  "completion_tokens": 70,
  "total_tokens": 8876,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 19:08:12,212 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT customer.CustomerID, SUM(detail.UnitPrice * detail.OrderQty) AS TotalRevenue
FROM Sales_Customer customer
JOIN Sales_SalesOrderHeader header ON customer.CustomerID = header.CustomerID
JOIN Sales_SalesOrderDetail detail ON header.SalesOrderID = detail.SalesOrderID
GROUP BY customer.CustomerID;
```;
2025-03-02 19:08:12,212 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 19:08:12,212 - QueryCache - INFO - Cache set for key 5ea023aefae6f3b8cf794a24e83f7c7fe3eb433369a8b46a76dde8eb36fa29dc with query: ```sql
SELECT customer.CustomerID, SUM(detail.UnitPrice * detail.OrderQty) AS TotalRevenue
FROM Sales_Customer customer
JOIN Sales_SalesOrderHeader header ON customer.CustomerID = header.CustomerID
JOIN Sales_SalesOrderDetail detail ON header.SalesOrderID = detail.SalesOrderID
GROUP BY customer.CustomerID;
```;
2025-03-02 19:08:12,213 - database_query - INFO - Generated and optimized query: ```sql
SELECT customer.CustomerID, SUM(detail.UnitPrice * detail.OrderQty) AS TotalRevenue
FROM Sales_Customer customer
JOIN Sales_SalesOrderHeader header ON customer.CustomerID = header.CustomerID
JOIN Sales_SalesOrderDetail detail ON header.SalesOrderID = detail.SalesOrderID
GROUP BY customer.CustomerID;
```;
2025-03-02 19:08:12,224 - database_query - INFO - Connected to MySQL database.
2025-03-02 19:08:53,326 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 19:08:53,329 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 19:08:53,330 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 19:08:53,330 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 19:08:53,330 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 19:08:53,330 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 19:08:53,340 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 19:08:53,345 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 19:08:53,432 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 19:08:53,433 - QueryCache - INFO - Cache get for key 50daef8fda840e14a39b114c72be2d75e9d23be5edba97d7874ae7811afd4b7d: None
2025-03-02 19:08:53,433 - prompttemplate - INFO - Generating MySQL prompt for query: Retrieve Customers Who Have Placed More Than 5 Orders
2025-03-02 19:08:53,433 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Retrieve Customers Who Have Placed More Than 5 Orders

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 19:08:54,523 - ai_clients - INFO - Generated query: ```sql
SELECT CustomerID
FROM Sales_Customer
GROUP BY CustomerID
HAVING COUNT(CustomerID) > 5;
``` (latency: 1.09s, usage: {
  "prompt_tokens": 8812,
  "completion_tokens": 28,
  "total_tokens": 8840,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 19:08:54,523 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT CustomerID
FROM Sales_Customer
GROUP BY CustomerID
HAVING COUNT(CustomerID) > 5;
```;
2025-03-02 19:08:54,523 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 19:08:54,523 - QueryCache - INFO - Cache set for key 50daef8fda840e14a39b114c72be2d75e9d23be5edba97d7874ae7811afd4b7d with query: ```sql
SELECT CustomerID
FROM Sales_Customer
GROUP BY CustomerID
HAVING COUNT(CustomerID) > 5;
```;
2025-03-02 19:08:54,523 - database_query - INFO - Generated and optimized query: ```sql
SELECT CustomerID
FROM Sales_Customer
GROUP BY CustomerID
HAVING COUNT(CustomerID) > 5;
```;
2025-03-02 19:08:54,536 - database_query - INFO - Connected to MySQL database.
2025-03-02 19:09:55,009 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-02 19:09:55,009 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-02 19:09:55,010 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-02 19:09:55,010 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-02 19:09:55,010 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-02 19:09:55,010 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-02 19:09:55,015 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-02 19:09:55,018 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-02 19:09:55,088 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-02 19:09:55,089 - QueryCache - INFO - Cache get for key 5755813b4a76f32573b94003e0de5a42ffdda487d32355f573e5e31d28a74a83: None
2025-03-02 19:09:55,089 - prompttemplate - INFO - Generating MySQL prompt for query: Retrieve Sales Orders for Customer ID = 11000
2025-03-02 19:09:55,089 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Retrieve Sales Orders for Customer ID = 11000

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-02 19:09:56,071 - ai_clients - INFO - Generated query: ```sql
SELECT * 
FROM Sales_SalesOrderHeader
WHERE CustomerID = 11000;
``` (latency: 0.98s, usage: {
  "prompt_tokens": 8811,
  "completion_tokens": 23,
  "total_tokens": 8834,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-02 19:09:56,071 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT * 
FROM Sales_SalesOrderHeader
WHERE CustomerID = 11000;
```;
2025-03-02 19:09:56,071 - QueryOptimizer - INFO - Query validation passed.
2025-03-02 19:09:56,071 - QueryCache - INFO - Cache set for key 5755813b4a76f32573b94003e0de5a42ffdda487d32355f573e5e31d28a74a83 with query: ```sql
SELECT * 
FROM Sales_SalesOrderHeader
WHERE CustomerID = 11000;
```;
2025-03-02 19:09:56,071 - database_query - INFO - Generated and optimized query: ```sql
SELECT * 
FROM Sales_SalesOrderHeader
WHERE CustomerID = 11000;
```;
2025-03-02 19:09:56,080 - database_query - INFO - Connected to MySQL database.
2025-03-03 10:36:58,453 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 10:37:13,055 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 10:37:13,056 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 10:37:13,056 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 10:37:13,056 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 10:37:13,056 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 10:37:13,056 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 10:37:13,182 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 10:37:13,213 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 10:37:13,336 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 10:37:13,340 - QueryCache - INFO - Cache get for key ae76dde648a6d7098a07fcbb51affbd7f60e67ee91feb88011623d2ba3669bfe: None
2025-03-03 10:37:13,340 - prompttemplate - INFO - Generating MySQL prompt for query: total count of products

2025-03-03 10:37:13,340 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
total count of products


Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 10:37:16,224 - ai_clients - INFO - Generated query: To get the total count of products, you can use the following MySQL query:

```sql
SELECT COUNT(ProductID) AS TotalProducts FROM Production_Product;
```

This query will count all the rows in the `Production_Product` table and return the count as `TotalProducts`. (latency: 2.87s, usage: {
  "prompt_tokens": 8805,
  "completion_tokens": 57,
  "total_tokens": 8862,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 10:37:16,225 - QueryOptimizer - INFO - Optimized query: To get the total count of products, you can use the following MySQL query:

```sql
SELECT COUNT(ProductID) AS TotalProducts FROM Production_Product;
```

This query will count all the rows in the `Production_Product` table and return the count as `TotalProducts`.;
2025-03-03 10:37:16,225 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 10:37:16,225 - QueryCache - INFO - Cache set for key ae76dde648a6d7098a07fcbb51affbd7f60e67ee91feb88011623d2ba3669bfe with query: To get the total count of products, you can use the following MySQL query:

```sql
SELECT COUNT(ProductID) AS TotalProducts FROM Production_Product;
```

This query will count all the rows in the `Production_Product` table and return the count as `TotalProducts`.;
2025-03-03 10:37:16,225 - database_query - INFO - Generated and optimized query: To get the total count of products, you can use the following MySQL query:

```sql
SELECT COUNT(ProductID) AS TotalProducts FROM Production_Product;
```

This query will count all the rows in the `Production_Product` table and return the count as `TotalProducts`.;
2025-03-03 10:37:16,247 - database_query - INFO - Connected to MySQL database.
2025-03-03 13:27:46,589 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 13:27:46,590 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 13:27:46,590 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 13:27:46,590 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 13:27:46,590 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 13:27:46,590 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 13:27:46,702 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 13:27:46,737 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 13:27:46,865 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 13:27:46,869 - QueryCache - INFO - Cache get for key 3bfe1344c06e7624fafe4b55fdc9a6838f0d1458ab5b698ef1cda9f71bd0001e: None
2025-03-03 13:27:46,869 - prompttemplate - INFO - Generating MySQL prompt for query: How many null values

2025-03-03 13:27:46,869 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
How many null values


Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 13:27:49,732 - ai_clients - INFO - Generated query: To count the number of null values in a specific column in a table, you can use the `COUNT` function along with the `IS NULL` condition in the `WHERE` clause. Here is an example query to count the number of null values in the 'Name' column of the 'HumanResources_Department' table:

```sql
SELECT COUNT(*) AS NullValuesCount
FROM HumanResources_Department
WHERE Name IS NULL;
```

In this query, we are selecting the count of rows where the 'Name' column is NULL in the 'HumanResources_Department' table. You can replace the 'Name' column and 'HumanResources_Department' table with the specific column and table where you want to count the null values. (latency: 2.86s, usage: {
  "prompt_tokens": 8805,
  "completion_tokens": 150,
  "total_tokens": 8955,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 13:27:49,733 - QueryOptimizer - INFO - Optimized query: To count the number of null values in a specific column in a table, you can use the `COUNT` function along with the `IS NULL` condition in the `WHERE` clause. Here is an example query to count the number of null values in the 'Name' column of the 'HumanResources_Department' table:

```sql
SELECT COUNT(*) AS NullValuesCount
FROM HumanResources_Department
WHERE Name IS NULL;
```

In this query, we are selecting the count of rows where the 'Name' column is NULL in the 'HumanResources_Department' table. You can replace the 'Name' column and 'HumanResources_Department' table with the specific column and table where you want to count the null values.;
2025-03-03 13:27:49,733 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 13:27:49,733 - QueryCache - INFO - Cache set for key 3bfe1344c06e7624fafe4b55fdc9a6838f0d1458ab5b698ef1cda9f71bd0001e with query: To count the number of null values in a specific column in a table, you can use the `COUNT` function along with the `IS NULL` condition in the `WHERE` clause. Here is an example query to count the number of null values in the 'Name' column of the 'HumanResources_Department' table:

```sql
SELECT COUNT(*) AS NullValuesCount
FROM HumanResources_Department
WHERE Name IS NULL;
```

In this query, we are selecting the count of rows where the 'Name' column is NULL in the 'HumanResources_Department' table. You can replace the 'Name' column and 'HumanResources_Department' table with the specific column and table where you want to count the null values.;
2025-03-03 13:27:49,733 - database_query - INFO - Generated and optimized query: To count the number of null values in a specific column in a table, you can use the `COUNT` function along with the `IS NULL` condition in the `WHERE` clause. Here is an example query to count the number of null values in the 'Name' column of the 'HumanResources_Department' table:

```sql
SELECT COUNT(*) AS NullValuesCount
FROM HumanResources_Department
WHERE Name IS NULL;
```

In this query, we are selecting the count of rows where the 'Name' column is NULL in the 'HumanResources_Department' table. You can replace the 'Name' column and 'HumanResources_Department' table with the specific column and table where you want to count the null values.;
2025-03-03 13:27:49,749 - database_query - INFO - Connected to MySQL database.
2025-03-03 13:28:13,795 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 13:28:13,795 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 13:28:13,795 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 13:28:13,795 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 13:28:13,795 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 13:28:13,795 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 13:28:13,803 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 13:28:13,806 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 13:28:13,894 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 13:28:13,895 - QueryCache - INFO - Cache get for key 50a7c2dc53f180d268135f58a2c1e116d93c61c37b5094870b348a6ce81c6e98: None
2025-03-03 13:28:13,895 - prompttemplate - INFO - Generating MySQL prompt for query: Hoew many total number of tables and columns 
2025-03-03 13:28:13,895 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Hoew many total number of tables and columns 

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 13:28:15,950 - ai_clients - INFO - Generated query: To get the total number of tables and columns in the schema, you can use the following query:

```sql
SELECT COUNT(*) AS total_tables, SUM(COLUMN_COUNT) AS total_columns
FROM (
    SELECT COUNT(*) AS COLUMN_COUNT
    FROM information_schema.columns
    WHERE table_schema = 'your_database_name'
    GROUP BY table_name
) AS counts;
```

Make sure to replace `'your_database_name'` with the actual name of your database schema.

This query will provide you with the total number of tables and the total number of columns in your schema. (latency: 2.05s, usage: {
  "prompt_tokens": 8810,
  "completion_tokens": 118,
  "total_tokens": 8928,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 13:28:15,950 - QueryOptimizer - INFO - Optimized query: To get the total number of tables and columns in the schema, you can use the following query:

```sql
SELECT COUNT(*) AS total_tables, SUM(COLUMN_COUNT) AS total_columns
FROM (
    SELECT COUNT(*) AS COLUMN_COUNT
    FROM information_schema.columns
    WHERE table_schema = 'your_database_name'
    GROUP BY table_name
) AS counts;
```

Make sure to replace `'your_database_name'` with the actual name of your database schema.

This query will provide you with the total number of tables and the total number of columns in your schema.;
2025-03-03 13:28:15,951 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 13:28:15,951 - QueryCache - INFO - Cache set for key 50a7c2dc53f180d268135f58a2c1e116d93c61c37b5094870b348a6ce81c6e98 with query: To get the total number of tables and columns in the schema, you can use the following query:

```sql
SELECT COUNT(*) AS total_tables, SUM(COLUMN_COUNT) AS total_columns
FROM (
    SELECT COUNT(*) AS COLUMN_COUNT
    FROM information_schema.columns
    WHERE table_schema = 'your_database_name'
    GROUP BY table_name
) AS counts;
```

Make sure to replace `'your_database_name'` with the actual name of your database schema.

This query will provide you with the total number of tables and the total number of columns in your schema.;
2025-03-03 13:28:15,951 - database_query - INFO - Generated and optimized query: To get the total number of tables and columns in the schema, you can use the following query:

```sql
SELECT COUNT(*) AS total_tables, SUM(COLUMN_COUNT) AS total_columns
FROM (
    SELECT COUNT(*) AS COLUMN_COUNT
    FROM information_schema.columns
    WHERE table_schema = 'your_database_name'
    GROUP BY table_name
) AS counts;
```

Make sure to replace `'your_database_name'` with the actual name of your database schema.

This query will provide you with the total number of tables and the total number of columns in your schema.;
2025-03-03 13:28:15,964 - database_query - INFO - Connected to MySQL database.
2025-03-03 13:28:46,375 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 13:28:46,376 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 13:28:46,376 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 13:28:46,376 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 13:28:46,376 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 13:28:46,376 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 13:28:46,381 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 13:28:46,384 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 13:28:46,487 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 13:28:46,489 - QueryCache - INFO - Cache get for key 4010e49983413331b3665398a94bf2f9f642fbeafb5a8aa9ec6eeee13cfce3be: None
2025-03-03 13:28:46,489 - prompttemplate - INFO - Generating MySQL prompt for query: Count of employee birthdays in the montyh of jan
2025-03-03 13:28:46,489 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Count of employee birthdays in the montyh of jan

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 13:28:47,548 - ai_clients - INFO - Generated query: ```sql
SELECT COUNT(*) AS BirthdayCount
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
``` (latency: 1.06s, usage: {
  "prompt_tokens": 8811,
  "completion_tokens": 28,
  "total_tokens": 8839,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 13:28:47,548 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT COUNT(*) AS BirthdayCount
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
```;
2025-03-03 13:28:47,548 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 13:28:47,548 - QueryCache - INFO - Cache set for key 4010e49983413331b3665398a94bf2f9f642fbeafb5a8aa9ec6eeee13cfce3be with query: ```sql
SELECT COUNT(*) AS BirthdayCount
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
```;
2025-03-03 13:28:47,549 - database_query - INFO - Generated and optimized query: ```sql
SELECT COUNT(*) AS BirthdayCount
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 1;
```;
2025-03-03 13:28:47,559 - database_query - INFO - Connected to MySQL database.
2025-03-03 13:28:53,790 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 13:28:53,790 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 13:28:53,790 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 13:28:53,790 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 13:28:53,790 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 13:28:53,791 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 13:28:53,796 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 13:28:53,799 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 13:28:53,890 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 13:28:53,892 - QueryCache - INFO - Cache get for key d63be67c8f13b4e858c2da023814b8b224d2a937a551da6205be122b52f1f968: None
2025-03-03 13:28:53,892 - prompttemplate - INFO - Generating MySQL prompt for query: Count of employee birthdays in the montyh of feb
2025-03-03 13:28:53,892 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Count of employee birthdays in the montyh of feb

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 13:28:54,963 - ai_clients - INFO - Generated query: ```sql
SELECT COUNT(*) AS Employee_Birthday_Count
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 2;
``` (latency: 1.07s, usage: {
  "prompt_tokens": 8812,
  "completion_tokens": 30,
  "total_tokens": 8842,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 13:28:54,964 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT COUNT(*) AS Employee_Birthday_Count
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 2;
```;
2025-03-03 13:28:54,964 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 13:28:54,964 - QueryCache - INFO - Cache set for key d63be67c8f13b4e858c2da023814b8b224d2a937a551da6205be122b52f1f968 with query: ```sql
SELECT COUNT(*) AS Employee_Birthday_Count
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 2;
```;
2025-03-03 13:28:54,964 - database_query - INFO - Generated and optimized query: ```sql
SELECT COUNT(*) AS Employee_Birthday_Count
FROM HumanResources_Employee
WHERE MONTH(BirthDate) = 2;
```;
2025-03-03 13:28:54,976 - database_query - INFO - Connected to MySQL database.
2025-03-03 13:29:12,540 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 13:29:12,541 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 13:29:12,541 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 13:29:12,541 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 13:29:12,541 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 13:29:12,541 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 13:29:12,549 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 13:29:12,556 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 13:29:12,701 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 13:29:12,704 - QueryCache - INFO - Cache get for key 2838f1b7639049f9b5c5348980a94c73c2cb5c0760a828f48b89f51b4228bd08: None
2025-03-03 13:29:12,704 - prompttemplate - INFO - Generating MySQL prompt for query: Count of employee birthdays in the montyh of  jan  +  feb
2025-03-03 13:29:12,704 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Count of employee birthdays in the montyh of  jan  +  feb

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 13:29:14,013 - ai_clients - INFO - Generated query: ```sql
SELECT COUNT(*) AS birthday_count
FROM HumanResources_Employee
WHERE MONTH(BirthDate) IN (1, 2);
``` (latency: 1.31s, usage: {
  "prompt_tokens": 8817,
  "completion_tokens": 31,
  "total_tokens": 8848,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 13:29:14,014 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT COUNT(*) AS birthday_count
FROM HumanResources_Employee
WHERE MONTH(BirthDate) IN (1, 2);
```;
2025-03-03 13:29:14,014 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 13:29:14,015 - QueryCache - INFO - Cache set for key 2838f1b7639049f9b5c5348980a94c73c2cb5c0760a828f48b89f51b4228bd08 with query: ```sql
SELECT COUNT(*) AS birthday_count
FROM HumanResources_Employee
WHERE MONTH(BirthDate) IN (1, 2);
```;
2025-03-03 13:29:14,015 - database_query - INFO - Generated and optimized query: ```sql
SELECT COUNT(*) AS birthday_count
FROM HumanResources_Employee
WHERE MONTH(BirthDate) IN (1, 2);
```;
2025-03-03 13:29:14,028 - database_query - INFO - Connected to MySQL database.
2025-03-03 15:56:54,225 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 15:57:11,193 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 15:57:11,193 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 15:57:11,193 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 15:57:11,193 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 15:57:11,193 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 15:57:11,193 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 15:57:11,304 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 15:57:11,344 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 15:57:11,519 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 15:57:11,523 - QueryCache - INFO - Cache get for key efec48e85482fa3729160039081a8ac7907e30694504e6f689f1b031acd206eb: None
2025-03-03 15:57:11,523 - prompttemplate - INFO - Generating MySQL prompt for query: List 10 mostr sold products
2025-03-03 15:57:11,523 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
List 10 mostr sold products

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 15:57:13,847 - ai_clients - INFO - Generated query: ```sql
SELECT p.ProductID, p.Name, COUNT(*) AS TotalSales
FROM Sales_SalesOrderDetail sod
JOIN Production_Product p ON sod.ProductID = p.ProductID
GROUP BY p.ProductID, p.Name
ORDER BY TotalSales DESC
LIMIT 10;
``` (latency: 2.32s, usage: {
  "prompt_tokens": 8807,
  "completion_tokens": 59,
  "total_tokens": 8866,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 15:57:13,848 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT p.ProductID, p.Name, COUNT(*) AS TotalSales
FROM Sales_SalesOrderDetail sod
JOIN Production_Product p ON sod.ProductID = p.ProductID
GROUP BY p.ProductID, p.Name
ORDER BY TotalSales DESC
LIMIT 10;
```;
2025-03-03 15:57:13,848 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 15:57:13,848 - QueryCache - INFO - Cache set for key efec48e85482fa3729160039081a8ac7907e30694504e6f689f1b031acd206eb with query: ```sql
SELECT p.ProductID, p.Name, COUNT(*) AS TotalSales
FROM Sales_SalesOrderDetail sod
JOIN Production_Product p ON sod.ProductID = p.ProductID
GROUP BY p.ProductID, p.Name
ORDER BY TotalSales DESC
LIMIT 10;
```;
2025-03-03 15:57:13,848 - database_query - INFO - Generated and optimized query: ```sql
SELECT p.ProductID, p.Name, COUNT(*) AS TotalSales
FROM Sales_SalesOrderDetail sod
JOIN Production_Product p ON sod.ProductID = p.ProductID
GROUP BY p.ProductID, p.Name
ORDER BY TotalSales DESC
LIMIT 10;
```;
2025-03-03 15:57:13,862 - database_query - INFO - Connected to MySQL database.
2025-03-03 15:57:36,910 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 15:57:36,910 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 15:57:36,910 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 15:57:36,910 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 15:57:36,911 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 15:57:36,911 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 15:57:36,917 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 15:57:36,924 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 15:57:37,010 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 15:57:37,012 - QueryCache - INFO - Cache get for key 0529f7287d9c8e9f6cb73e72f1414bb605efa1d97c97803feca658953a8b7a3d: None
2025-03-03 15:57:37,013 - prompttemplate - INFO - Generating MySQL prompt for query: revenue in al years
2025-03-03 15:57:37,013 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
revenue in al years

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 15:57:38,930 - ai_clients - INFO - Generated query: Based on the schema provided, to calculate the revenue for all years, we need to sum the `LineTotal` column from the `Sales_SalesOrderDetail` table and group the results by the `OrderDate` year.

Here is the MySQL query to achieve this:

```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalRevenue
FROM Sales_SalesOrderDetail
JOIN Sales_SalesOrderHeader USING (SalesOrderID)
GROUP BY YEAR(OrderDate);
```

Make sure that proper indexing is in place on the relevant columns, such as `OrderDate` and `SalesOrderID`, to optimize the query performance. Also, ensure to sanitize user inputs to prevent SQL injection by using prepared statements in your (latency: 1.92s, usage: {
  "prompt_tokens": 8806,
  "completion_tokens": 150,
  "total_tokens": 8956,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 15:57:38,930 - QueryOptimizer - INFO - Optimized query: Based on the schema provided, to calculate the revenue for all years, we need to sum the `LineTotal` column from the `Sales_SalesOrderDetail` table and group the results by the `OrderDate` year.

Here is the MySQL query to achieve this:

```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalRevenue
FROM Sales_SalesOrderDetail
JOIN Sales_SalesOrderHeader USING (SalesOrderID)
GROUP BY YEAR(OrderDate);
```

Make sure that proper indexing is in place on the relevant columns, such as `OrderDate` and `SalesOrderID`, to optimize the query performance. Also, ensure to sanitize user inputs to prevent SQL injection by using prepared statements in your;
2025-03-03 15:57:38,931 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 15:57:38,931 - QueryCache - INFO - Cache set for key 0529f7287d9c8e9f6cb73e72f1414bb605efa1d97c97803feca658953a8b7a3d with query: Based on the schema provided, to calculate the revenue for all years, we need to sum the `LineTotal` column from the `Sales_SalesOrderDetail` table and group the results by the `OrderDate` year.

Here is the MySQL query to achieve this:

```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalRevenue
FROM Sales_SalesOrderDetail
JOIN Sales_SalesOrderHeader USING (SalesOrderID)
GROUP BY YEAR(OrderDate);
```

Make sure that proper indexing is in place on the relevant columns, such as `OrderDate` and `SalesOrderID`, to optimize the query performance. Also, ensure to sanitize user inputs to prevent SQL injection by using prepared statements in your;
2025-03-03 15:57:38,931 - database_query - INFO - Generated and optimized query: Based on the schema provided, to calculate the revenue for all years, we need to sum the `LineTotal` column from the `Sales_SalesOrderDetail` table and group the results by the `OrderDate` year.

Here is the MySQL query to achieve this:

```sql
SELECT YEAR(OrderDate) AS OrderYear, SUM(LineTotal) AS TotalRevenue
FROM Sales_SalesOrderDetail
JOIN Sales_SalesOrderHeader USING (SalesOrderID)
GROUP BY YEAR(OrderDate);
```

Make sure that proper indexing is in place on the relevant columns, such as `OrderDate` and `SalesOrderID`, to optimize the query performance. Also, ensure to sanitize user inputs to prevent SQL injection by using prepared statements in your;
2025-03-03 15:57:38,942 - database_query - INFO - Connected to MySQL database.
2025-03-03 15:58:04,956 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 15:58:04,957 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 15:58:04,957 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 15:58:04,957 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 15:58:04,957 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 15:58:04,957 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 15:58:04,962 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 15:58:04,964 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 15:58:05,039 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 15:58:05,040 - QueryCache - INFO - Cache get for key 3bece0568ef6f8cec0dfb82be6d68689b36bbb226c463f233d6e05bbdbb85a55: None
2025-03-03 15:58:05,040 - prompttemplate - INFO - Generating MySQL prompt for query: most sold 5 products
2025-03-03 15:58:05,040 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
most sold 5 products

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 15:58:06,518 - ai_clients - INFO - Generated query: ```sql
SELECT ProductID, Name, SUM(OrderQty) as TotalQuantity
FROM Sales.SalesOrderDetail
GROUP BY ProductID, Name
ORDER BY TotalQuantity DESC
LIMIT 5;
``` (latency: 1.47s, usage: {
  "prompt_tokens": 8806,
  "completion_tokens": 43,
  "total_tokens": 8849,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 15:58:06,518 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT ProductID, Name, SUM(OrderQty) as TotalQuantity
FROM Sales.SalesOrderDetail
GROUP BY ProductID, Name
ORDER BY TotalQuantity DESC
LIMIT 5;
```;
2025-03-03 15:58:06,518 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 15:58:06,519 - QueryCache - INFO - Cache set for key 3bece0568ef6f8cec0dfb82be6d68689b36bbb226c463f233d6e05bbdbb85a55 with query: ```sql
SELECT ProductID, Name, SUM(OrderQty) as TotalQuantity
FROM Sales.SalesOrderDetail
GROUP BY ProductID, Name
ORDER BY TotalQuantity DESC
LIMIT 5;
```;
2025-03-03 15:58:06,519 - database_query - INFO - Generated and optimized query: ```sql
SELECT ProductID, Name, SUM(OrderQty) as TotalQuantity
FROM Sales.SalesOrderDetail
GROUP BY ProductID, Name
ORDER BY TotalQuantity DESC
LIMIT 5;
```;
2025-03-03 15:58:06,532 - database_query - INFO - Connected to MySQL database.
2025-03-03 15:59:46,167 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 15:59:46,168 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 15:59:46,168 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 15:59:46,168 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 15:59:46,168 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 15:59:46,168 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 15:59:46,187 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 15:59:46,191 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 15:59:46,267 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 15:59:46,268 - QueryCache - INFO - Cache get for key 059a5964418e1cf9f63f0d791eac0c039e9b899dc5efffdbdd233297600b5fbc: None
2025-03-03 15:59:46,268 - prompttemplate - INFO - Generating MySQL prompt for query: Retrieve Top 5 Best-Selling Products
2025-03-03 15:59:46,268 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Retrieve Top 5 Best-Selling Products

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 15:59:47,725 - ai_clients - INFO - Generated query: ```sql
SELECT ProductID, Name, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderDetail
JOIN Production_Product ON Sales_SalesOrderDetail.ProductID = Production_Product.ProductID
GROUP BY ProductID, Name
ORDER BY TotalSales DESC
LIMIT 5;
``` (latency: 1.46s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 60,
  "total_tokens": 8869,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 15:59:47,725 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT ProductID, Name, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderDetail
JOIN Production_Product ON Sales_SalesOrderDetail.ProductID = Production_Product.ProductID
GROUP BY ProductID, Name
ORDER BY TotalSales DESC
LIMIT 5;
```;
2025-03-03 15:59:47,725 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 15:59:47,725 - QueryCache - INFO - Cache set for key 059a5964418e1cf9f63f0d791eac0c039e9b899dc5efffdbdd233297600b5fbc with query: ```sql
SELECT ProductID, Name, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderDetail
JOIN Production_Product ON Sales_SalesOrderDetail.ProductID = Production_Product.ProductID
GROUP BY ProductID, Name
ORDER BY TotalSales DESC
LIMIT 5;
```;
2025-03-03 15:59:47,725 - database_query - INFO - Generated and optimized query: ```sql
SELECT ProductID, Name, SUM(LineTotal) AS TotalSales
FROM Sales_SalesOrderDetail
JOIN Production_Product ON Sales_SalesOrderDetail.ProductID = Production_Product.ProductID
GROUP BY ProductID, Name
ORDER BY TotalSales DESC
LIMIT 5;
```;
2025-03-03 15:59:47,737 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:00:04,618 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:00:04,621 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:00:04,621 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:00:04,622 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:00:04,622 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:00:04,622 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:00:04,628 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:00:04,632 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:00:04,712 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:00:04,713 - QueryCache - INFO - Cache get for key 4e49db681a229b1a868d1634a9a8ad19bb47104e4d699da61570992498cb31d1: None
2025-03-03 16:00:04,713 - prompttemplate - INFO - Generating MySQL prompt for query: Find Customers with the Highest Total Purchase Amount
2025-03-03 16:00:04,714 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Customers with the Highest Total Purchase Amount

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:00:06,775 - ai_clients - INFO - Generated query: ```sql
SELECT 
    c.CustomerID, 
    c.PersonID, 
    c.StoreID, 
    c.TerritoryID, 
    c.AccountNumber, 
    SUM(od.LineTotal) as TotalPurchaseAmount
FROM 
    Sales_Customer c
JOIN Sales_SalesOrderHeader so ON c.CustomerID = so.CustomerID
JOIN Sales_SalesOrderDetail od ON so.SalesOrderID = od.SalesOrderID
GROUP BY 
    c.CustomerID, 
    c.PersonID, 
    c.StoreID, 
    c.TerritoryID, 
    c.AccountNumber
ORDER BY 
    TotalPurchaseAmount DESC
LIMIT 1;
``` (latency: 2.06s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 140,
  "total_tokens": 8949,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:00:06,775 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT 
    c.CustomerID, 
    c.PersonID, 
    c.StoreID, 
    c.TerritoryID, 
    c.AccountNumber, 
    SUM(od.LineTotal) as TotalPurchaseAmount
FROM 
    Sales_Customer c
JOIN Sales_SalesOrderHeader so ON c.CustomerID = so.CustomerID
JOIN Sales_SalesOrderDetail od ON so.SalesOrderID = od.SalesOrderID
GROUP BY 
    c.CustomerID, 
    c.PersonID, 
    c.StoreID, 
    c.TerritoryID, 
    c.AccountNumber
ORDER BY 
    TotalPurchaseAmount DESC
LIMIT 1;
```;
2025-03-03 16:00:06,775 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:00:06,776 - QueryCache - INFO - Cache set for key 4e49db681a229b1a868d1634a9a8ad19bb47104e4d699da61570992498cb31d1 with query: ```sql
SELECT 
    c.CustomerID, 
    c.PersonID, 
    c.StoreID, 
    c.TerritoryID, 
    c.AccountNumber, 
    SUM(od.LineTotal) as TotalPurchaseAmount
FROM 
    Sales_Customer c
JOIN Sales_SalesOrderHeader so ON c.CustomerID = so.CustomerID
JOIN Sales_SalesOrderDetail od ON so.SalesOrderID = od.SalesOrderID
GROUP BY 
    c.CustomerID, 
    c.PersonID, 
    c.StoreID, 
    c.TerritoryID, 
    c.AccountNumber
ORDER BY 
    TotalPurchaseAmount DESC
LIMIT 1;
```;
2025-03-03 16:00:06,776 - database_query - INFO - Generated and optimized query: ```sql
SELECT 
    c.CustomerID, 
    c.PersonID, 
    c.StoreID, 
    c.TerritoryID, 
    c.AccountNumber, 
    SUM(od.LineTotal) as TotalPurchaseAmount
FROM 
    Sales_Customer c
JOIN Sales_SalesOrderHeader so ON c.CustomerID = so.CustomerID
JOIN Sales_SalesOrderDetail od ON so.SalesOrderID = od.SalesOrderID
GROUP BY 
    c.CustomerID, 
    c.PersonID, 
    c.StoreID, 
    c.TerritoryID, 
    c.AccountNumber
ORDER BY 
    TotalPurchaseAmount DESC
LIMIT 1;
```;
2025-03-03 16:00:06,788 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:00:28,707 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:00:28,707 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:00:28,707 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:00:28,707 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:00:28,707 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:00:28,708 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:00:28,713 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:00:28,761 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:00:28,876 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:00:28,879 - QueryCache - INFO - Cache get for key f6dc39a1bc28d53853d692f042c82e1daa74bc250a475a3046f4d9b89e3b3e87: None
2025-03-03 16:00:28,879 - prompttemplate - INFO - Generating MySQL prompt for query: Find Sales Representatives Who Achieved the Highest Sales
2025-03-03 16:00:28,879 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find Sales Representatives Who Achieved the Highest Sales

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:00:30,448 - ai_clients - INFO - Generated query: ```sql
SELECT 
    SP.BusinessEntityID,
    MAX(SOH.TotalDue) AS HighestSales
FROM 
    Sales_SalesPerson AS SP
JOIN
    Sales_SalesOrderHeader AS SOH ON SP.BusinessEntityID = SOH.SalesPersonID
GROUP BY
    SP.BusinessEntityID
ORDER BY
    HighestSales DESC
LIMIT 1;
``` (latency: 1.57s, usage: {
  "prompt_tokens": 8810,
  "completion_tokens": 79,
  "total_tokens": 8889,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:00:30,448 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT 
    SP.BusinessEntityID,
    MAX(SOH.TotalDue) AS HighestSales
FROM 
    Sales_SalesPerson AS SP
JOIN
    Sales_SalesOrderHeader AS SOH ON SP.BusinessEntityID = SOH.SalesPersonID
GROUP BY
    SP.BusinessEntityID
ORDER BY
    HighestSales DESC
LIMIT 1;
```;
2025-03-03 16:00:30,448 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:00:30,448 - QueryCache - INFO - Cache set for key f6dc39a1bc28d53853d692f042c82e1daa74bc250a475a3046f4d9b89e3b3e87 with query: ```sql
SELECT 
    SP.BusinessEntityID,
    MAX(SOH.TotalDue) AS HighestSales
FROM 
    Sales_SalesPerson AS SP
JOIN
    Sales_SalesOrderHeader AS SOH ON SP.BusinessEntityID = SOH.SalesPersonID
GROUP BY
    SP.BusinessEntityID
ORDER BY
    HighestSales DESC
LIMIT 1;
```;
2025-03-03 16:00:30,448 - database_query - INFO - Generated and optimized query: ```sql
SELECT 
    SP.BusinessEntityID,
    MAX(SOH.TotalDue) AS HighestSales
FROM 
    Sales_SalesPerson AS SP
JOIN
    Sales_SalesOrderHeader AS SOH ON SP.BusinessEntityID = SOH.SalesPersonID
GROUP BY
    SP.BusinessEntityID
ORDER BY
    HighestSales DESC
LIMIT 1;
```;
2025-03-03 16:00:30,480 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:01:12,331 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:01:12,332 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:01:12,332 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:01:12,332 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:01:12,332 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:01:12,332 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:01:12,341 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:01:12,344 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:01:12,433 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:01:12,434 - QueryCache - INFO - Cache get for key e0aba29f5d49decda9cfa92fc5a45f18f8096c3f3d833a34a912edbe37b9daa7: None
2025-03-03 16:01:12,434 - prompttemplate - INFO - Generating MySQL prompt for query: Retrieve Orders with More Than 5 Products
2025-03-03 16:01:12,434 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Retrieve Orders with More Than 5 Products

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:01:13,899 - ai_clients - INFO - Generated query: ```sql
SELECT *
FROM Sales_SalesOrderHeader
WHERE SalesOrderID IN (
    SELECT SalesOrderID
    FROM Sales_SalesOrderDetail
    GROUP BY SalesOrderID
    HAVING COUNT(*) > 5
);
``` (latency: 1.46s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 51,
  "total_tokens": 8860,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:01:13,900 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT *
FROM Sales_SalesOrderHeader
WHERE SalesOrderID IN (
    SELECT SalesOrderID
    FROM Sales_SalesOrderDetail
    GROUP BY SalesOrderID
    HAVING COUNT(*) > 5
);
```;
2025-03-03 16:01:13,900 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:01:13,900 - QueryCache - INFO - Cache set for key e0aba29f5d49decda9cfa92fc5a45f18f8096c3f3d833a34a912edbe37b9daa7 with query: ```sql
SELECT *
FROM Sales_SalesOrderHeader
WHERE SalesOrderID IN (
    SELECT SalesOrderID
    FROM Sales_SalesOrderDetail
    GROUP BY SalesOrderID
    HAVING COUNT(*) > 5
);
```;
2025-03-03 16:01:13,900 - database_query - INFO - Generated and optimized query: ```sql
SELECT *
FROM Sales_SalesOrderHeader
WHERE SalesOrderID IN (
    SELECT SalesOrderID
    FROM Sales_SalesOrderDetail
    GROUP BY SalesOrderID
    HAVING COUNT(*) > 5
);
```;
2025-03-03 16:01:13,912 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:01:32,318 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:01:32,318 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:01:32,318 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:01:32,319 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:01:32,319 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:01:32,319 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:01:32,325 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:01:32,330 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:01:32,412 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:01:32,413 - QueryCache - INFO - Cache get for key 5f52ecf6e4776b663df34133aaf4f8b1ed47dfb2b2184de1b535a0a30026bdca: None
2025-03-03 16:01:32,413 - prompttemplate - INFO - Generating MySQL prompt for query: Get Monthly Revenue Trend for the Last Year
2025-03-03 16:01:32,413 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get Monthly Revenue Trend for the Last Year

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:01:34,467 - ai_clients - INFO - Generated query: To get the monthly revenue trend for the last year, you can use the following MySQL query:

```sql
SELECT DATE_FORMAT(OrderDate, '%Y-%m') AS YearMonth, SUM(LineTotal) AS MonthlyRevenue
FROM Sales_SalesOrderHeader
WHERE OrderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 YEAR) AND NOW()
GROUP BY YearMonth
ORDER BY YearMonth;
```

This query will group the monthly revenue by the Year and Month from the `Sales_SalesOrderHeader` table for the last year. It calculates the total revenue for each month and returns the results in ascending order of Year and Month.

Make sure to replace `OrderDate` and `LineTotal` with the appropriate column names from your schema. (latency: 2.05s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 150,
  "total_tokens": 8959,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:01:34,467 - QueryOptimizer - INFO - Optimized query: To get the monthly revenue trend for the last year, you can use the following MySQL query:

```sql
SELECT DATE_FORMAT(OrderDate, '%Y-%m') AS YearMonth, SUM(LineTotal) AS MonthlyRevenue
FROM Sales_SalesOrderHeader
WHERE OrderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 YEAR) AND NOW()
GROUP BY YearMonth
ORDER BY YearMonth;
```

This query will group the monthly revenue by the Year and Month from the `Sales_SalesOrderHeader` table for the last year. It calculates the total revenue for each month and returns the results in ascending order of Year and Month.

Make sure to replace `OrderDate` and `LineTotal` with the appropriate column names from your schema.;
2025-03-03 16:01:34,468 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:01:34,468 - QueryCache - INFO - Cache set for key 5f52ecf6e4776b663df34133aaf4f8b1ed47dfb2b2184de1b535a0a30026bdca with query: To get the monthly revenue trend for the last year, you can use the following MySQL query:

```sql
SELECT DATE_FORMAT(OrderDate, '%Y-%m') AS YearMonth, SUM(LineTotal) AS MonthlyRevenue
FROM Sales_SalesOrderHeader
WHERE OrderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 YEAR) AND NOW()
GROUP BY YearMonth
ORDER BY YearMonth;
```

This query will group the monthly revenue by the Year and Month from the `Sales_SalesOrderHeader` table for the last year. It calculates the total revenue for each month and returns the results in ascending order of Year and Month.

Make sure to replace `OrderDate` and `LineTotal` with the appropriate column names from your schema.;
2025-03-03 16:01:34,468 - database_query - INFO - Generated and optimized query: To get the monthly revenue trend for the last year, you can use the following MySQL query:

```sql
SELECT DATE_FORMAT(OrderDate, '%Y-%m') AS YearMonth, SUM(LineTotal) AS MonthlyRevenue
FROM Sales_SalesOrderHeader
WHERE OrderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 YEAR) AND NOW()
GROUP BY YearMonth
ORDER BY YearMonth;
```

This query will group the monthly revenue by the Year and Month from the `Sales_SalesOrderHeader` table for the last year. It calculates the total revenue for each month and returns the results in ascending order of Year and Month.

Make sure to replace `OrderDate` and `LineTotal` with the appropriate column names from your schema.;
2025-03-03 16:01:34,482 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:01:54,895 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:01:54,895 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:01:54,895 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:01:54,896 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:01:54,896 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:01:54,896 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:01:54,901 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:01:54,904 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:01:54,984 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:01:54,985 - QueryCache - INFO - Cache get for key 72360e7f268443174229f94ba8cc30a84640ff2999fb499bbc3b2ff3ea8ea86b: None
2025-03-03 16:01:54,985 - prompttemplate - INFO - Generating MySQL prompt for query: Find the Average Order Value Per Customer
2025-03-03 16:01:54,986 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find the Average Order Value Per Customer

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:01:55,823 - ai_clients - INFO - Generated query: ```sql
SELECT CustomerID, AVG(LineTotal) AS AverageOrderValue
FROM Sales_SalesOrderDetail
GROUP BY CustomerID;
``` (latency: 0.84s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 30,
  "total_tokens": 8838,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:01:55,824 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT CustomerID, AVG(LineTotal) AS AverageOrderValue
FROM Sales_SalesOrderDetail
GROUP BY CustomerID;
```;
2025-03-03 16:01:55,824 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:01:55,824 - QueryCache - INFO - Cache set for key 72360e7f268443174229f94ba8cc30a84640ff2999fb499bbc3b2ff3ea8ea86b with query: ```sql
SELECT CustomerID, AVG(LineTotal) AS AverageOrderValue
FROM Sales_SalesOrderDetail
GROUP BY CustomerID;
```;
2025-03-03 16:01:55,825 - database_query - INFO - Generated and optimized query: ```sql
SELECT CustomerID, AVG(LineTotal) AS AverageOrderValue
FROM Sales_SalesOrderDetail
GROUP BY CustomerID;
```;
2025-03-03 16:01:55,837 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:02:10,359 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:02:10,360 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:02:10,360 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:02:10,360 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:02:10,360 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:02:10,360 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:02:10,367 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:02:10,371 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:02:10,445 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:02:10,447 - QueryCache - INFO - Cache get for key 2cb452471b768f9e77ed9bef7bda95b06c970609e8d8a968379969c10da0c546: None
2025-03-03 16:02:10,447 - prompttemplate - INFO - Generating MySQL prompt for query: Get the Employees Who Have Not Made Any Sales
2025-03-03 16:02:10,447 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get the Employees Who Have Not Made Any Sales

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:02:11,455 - ai_clients - INFO - Generated query: ```mysql
SELECT e.*
FROM HumanResources_Employee e
LEFT JOIN Sales_SalesPerson sp ON e.BusinessEntityID = sp.BusinessEntityID
WHERE sp.BusinessEntityID IS NULL;
``` (latency: 1.01s, usage: {
  "prompt_tokens": 8810,
  "completion_tokens": 41,
  "total_tokens": 8851,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:02:11,455 - QueryOptimizer - INFO - Optimized query: ```mysql
SELECT e.*
FROM HumanResources_Employee e
LEFT JOIN Sales_SalesPerson sp ON e.BusinessEntityID = sp.BusinessEntityID
WHERE sp.BusinessEntityID IS NULL;
```;
2025-03-03 16:02:11,456 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:02:11,456 - QueryCache - INFO - Cache set for key 2cb452471b768f9e77ed9bef7bda95b06c970609e8d8a968379969c10da0c546 with query: ```mysql
SELECT e.*
FROM HumanResources_Employee e
LEFT JOIN Sales_SalesPerson sp ON e.BusinessEntityID = sp.BusinessEntityID
WHERE sp.BusinessEntityID IS NULL;
```;
2025-03-03 16:02:11,456 - database_query - INFO - Generated and optimized query: ```mysql
SELECT e.*
FROM HumanResources_Employee e
LEFT JOIN Sales_SalesPerson sp ON e.BusinessEntityID = sp.BusinessEntityID
WHERE sp.BusinessEntityID IS NULL;
```;
2025-03-03 16:02:11,465 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:02:27,183 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:02:27,184 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:02:27,184 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:02:27,184 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:02:27,184 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:02:27,184 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:02:27,195 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:02:27,198 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:02:27,279 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:02:27,280 - QueryCache - INFO - Cache get for key f14f4336cb03a8cf609f06d2cb64097bd63e6860e195a119245d0661a4c293dd: None
2025-03-03 16:02:27,280 - prompttemplate - INFO - Generating MySQL prompt for query: Identify Customers Who Have Placed More Than 10 Orders
2025-03-03 16:02:27,280 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Identify Customers Who Have Placed More Than 10 Orders

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:02:28,133 - ai_clients - INFO - Generated query: ```sql
SELECT CustomerID
FROM Sales_SalesOrderHeader
GROUP BY CustomerID
HAVING COUNT(*) > 10;
``` (latency: 0.85s, usage: {
  "prompt_tokens": 8813,
  "completion_tokens": 29,
  "total_tokens": 8842,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:02:28,133 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT CustomerID
FROM Sales_SalesOrderHeader
GROUP BY CustomerID
HAVING COUNT(*) > 10;
```;
2025-03-03 16:02:28,134 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:02:28,134 - QueryCache - INFO - Cache set for key f14f4336cb03a8cf609f06d2cb64097bd63e6860e195a119245d0661a4c293dd with query: ```sql
SELECT CustomerID
FROM Sales_SalesOrderHeader
GROUP BY CustomerID
HAVING COUNT(*) > 10;
```;
2025-03-03 16:02:28,134 - database_query - INFO - Generated and optimized query: ```sql
SELECT CustomerID
FROM Sales_SalesOrderHeader
GROUP BY CustomerID
HAVING COUNT(*) > 10;
```;
2025-03-03 16:02:28,146 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:02:50,703 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:02:50,704 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:02:50,704 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:02:50,704 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:02:50,704 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:02:50,704 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:02:50,716 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:02:50,719 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:02:50,812 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:02:50,813 - QueryCache - INFO - Cache get for key 6c65edb98bb838a00ace5e1facf321960f72c286280e87c4388788dd2ecdfba8: None
2025-03-03 16:02:50,813 - prompttemplate - INFO - Generating MySQL prompt for query: Retrieve the Total Sales and the Percentage Contribution by Product Category
2025-03-03 16:02:50,813 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Retrieve the Total Sales and the Percentage Contribution by Product Category

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:02:52,789 - ai_clients - INFO - Generated query: ```sql
SELECT c.Name AS ProductCategory,
       SUM(od.UnitPrice * od.OrderQty) AS TotalSales,
       SUM(od.UnitPrice * od.OrderQty) / (SELECT SUM(UnitPrice * OrderQty) FROM Sales_SalesOrderDetail) * 100 AS PercentageContribution
FROM Sales_Product p
JOIN Sales_ProductSubcategory ps ON p.ProductSubcategoryID = ps.ProductSubcategoryID
JOIN Sales_ProductCategory c ON ps.ProductCategoryID = c.ProductCategoryID
JOIN Sales_SalesOrderDetail od ON p.ProductID = od.ProductID
GROUP BY c.Name
ORDER BY TotalSales DESC;
``` (latency: 1.97s, usage: {
  "prompt_tokens": 8812,
  "completion_tokens": 128,
  "total_tokens": 8940,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:02:52,789 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT c.Name AS ProductCategory,
       SUM(od.UnitPrice * od.OrderQty) AS TotalSales,
       SUM(od.UnitPrice * od.OrderQty) / (SELECT SUM(UnitPrice * OrderQty) FROM Sales_SalesOrderDetail) * 100 AS PercentageContribution
FROM Sales_Product p
JOIN Sales_ProductSubcategory ps ON p.ProductSubcategoryID = ps.ProductSubcategoryID
JOIN Sales_ProductCategory c ON ps.ProductCategoryID = c.ProductCategoryID
JOIN Sales_SalesOrderDetail od ON p.ProductID = od.ProductID
GROUP BY c.Name
ORDER BY TotalSales DESC;
```;
2025-03-03 16:02:52,790 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:02:52,790 - QueryCache - INFO - Cache set for key 6c65edb98bb838a00ace5e1facf321960f72c286280e87c4388788dd2ecdfba8 with query: ```sql
SELECT c.Name AS ProductCategory,
       SUM(od.UnitPrice * od.OrderQty) AS TotalSales,
       SUM(od.UnitPrice * od.OrderQty) / (SELECT SUM(UnitPrice * OrderQty) FROM Sales_SalesOrderDetail) * 100 AS PercentageContribution
FROM Sales_Product p
JOIN Sales_ProductSubcategory ps ON p.ProductSubcategoryID = ps.ProductSubcategoryID
JOIN Sales_ProductCategory c ON ps.ProductCategoryID = c.ProductCategoryID
JOIN Sales_SalesOrderDetail od ON p.ProductID = od.ProductID
GROUP BY c.Name
ORDER BY TotalSales DESC;
```;
2025-03-03 16:02:52,790 - database_query - INFO - Generated and optimized query: ```sql
SELECT c.Name AS ProductCategory,
       SUM(od.UnitPrice * od.OrderQty) AS TotalSales,
       SUM(od.UnitPrice * od.OrderQty) / (SELECT SUM(UnitPrice * OrderQty) FROM Sales_SalesOrderDetail) * 100 AS PercentageContribution
FROM Sales_Product p
JOIN Sales_ProductSubcategory ps ON p.ProductSubcategoryID = ps.ProductSubcategoryID
JOIN Sales_ProductCategory c ON ps.ProductCategoryID = c.ProductCategoryID
JOIN Sales_SalesOrderDetail od ON p.ProductID = od.ProductID
GROUP BY c.Name
ORDER BY TotalSales DESC;
```;
2025-03-03 16:02:52,807 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:03:29,143 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:03:29,144 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:03:29,144 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:03:29,144 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:03:29,144 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:03:29,144 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:03:29,153 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:03:29,156 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:03:29,231 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:03:29,233 - QueryCache - INFO - Cache get for key 2cb452471b768f9e77ed9bef7bda95b06c970609e8d8a968379969c10da0c546: None
2025-03-03 16:03:29,233 - prompttemplate - INFO - Generating MySQL prompt for query: Get the Employees Who Have Not Made Any Sales
2025-03-03 16:03:29,233 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Get the Employees Who Have Not Made Any Sales

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:03:30,812 - ai_clients - INFO - Generated query: ```sql
SELECT e.BusinessEntityID, p.FirstName, p.LastName
FROM HumanResources_Employee e
JOIN Person_Person p ON e.BusinessEntityID = p.BusinessEntityID
LEFT JOIN Sales_SalesPerson sp ON e.BusinessEntityID = sp.BusinessEntityID
LEFT JOIN Sales_SalesOrderHeader soh ON sp.BusinessEntityID = soh.SalesPersonID
WHERE soh.SalesPersonID IS NULL
``` (latency: 1.58s, usage: {
  "prompt_tokens": 8810,
  "completion_tokens": 91,
  "total_tokens": 8901,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:03:30,813 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT e.BusinessEntityID, p.FirstName, p.LastName
FROM HumanResources_Employee e
JOIN Person_Person p ON e.BusinessEntityID = p.BusinessEntityID
LEFT JOIN Sales_SalesPerson sp ON e.BusinessEntityID = sp.BusinessEntityID
LEFT JOIN Sales_SalesOrderHeader soh ON sp.BusinessEntityID = soh.SalesPersonID
WHERE soh.SalesPersonID IS NULL
```;
2025-03-03 16:03:30,813 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:03:30,813 - QueryCache - INFO - Cache set for key 2cb452471b768f9e77ed9bef7bda95b06c970609e8d8a968379969c10da0c546 with query: ```sql
SELECT e.BusinessEntityID, p.FirstName, p.LastName
FROM HumanResources_Employee e
JOIN Person_Person p ON e.BusinessEntityID = p.BusinessEntityID
LEFT JOIN Sales_SalesPerson sp ON e.BusinessEntityID = sp.BusinessEntityID
LEFT JOIN Sales_SalesOrderHeader soh ON sp.BusinessEntityID = soh.SalesPersonID
WHERE soh.SalesPersonID IS NULL
```;
2025-03-03 16:03:30,813 - database_query - INFO - Generated and optimized query: ```sql
SELECT e.BusinessEntityID, p.FirstName, p.LastName
FROM HumanResources_Employee e
JOIN Person_Person p ON e.BusinessEntityID = p.BusinessEntityID
LEFT JOIN Sales_SalesPerson sp ON e.BusinessEntityID = sp.BusinessEntityID
LEFT JOIN Sales_SalesOrderHeader soh ON sp.BusinessEntityID = soh.SalesPersonID
WHERE soh.SalesPersonID IS NULL
```;
2025-03-03 16:03:30,830 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:03:53,778 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:03:53,778 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:03:53,779 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:03:53,779 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:03:53,779 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:03:53,779 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:03:53,796 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:03:53,800 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:03:53,877 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:03:53,879 - QueryCache - INFO - Cache get for key 72360e7f268443174229f94ba8cc30a84640ff2999fb499bbc3b2ff3ea8ea86b: None
2025-03-03 16:03:53,879 - prompttemplate - INFO - Generating MySQL prompt for query: Find the Average Order Value Per Customer
2025-03-03 16:03:53,879 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Find the Average Order Value Per Customer

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:03:54,869 - ai_clients - INFO - Generated query: ```sql
SELECT CustomerID, AVG(UnitPrice * OrderQty) AS AverageOrderValue
FROM Sales.SalesOrderDetail
GROUP BY CustomerID;
``` (latency: 0.99s, usage: {
  "prompt_tokens": 8808,
  "completion_tokens": 33,
  "total_tokens": 8841,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:03:54,869 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT CustomerID, AVG(UnitPrice * OrderQty) AS AverageOrderValue
FROM Sales.SalesOrderDetail
GROUP BY CustomerID;
```;
2025-03-03 16:03:54,869 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:03:54,869 - QueryCache - INFO - Cache set for key 72360e7f268443174229f94ba8cc30a84640ff2999fb499bbc3b2ff3ea8ea86b with query: ```sql
SELECT CustomerID, AVG(UnitPrice * OrderQty) AS AverageOrderValue
FROM Sales.SalesOrderDetail
GROUP BY CustomerID;
```;
2025-03-03 16:03:54,870 - database_query - INFO - Generated and optimized query: ```sql
SELECT CustomerID, AVG(UnitPrice * OrderQty) AS AverageOrderValue
FROM Sales.SalesOrderDetail
GROUP BY CustomerID;
```;
2025-03-03 16:03:54,880 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:04:05,497 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:04:05,497 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:04:05,498 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:04:05,498 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:04:05,498 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:04:05,498 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:04:05,505 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:04:05,507 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:04:05,588 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:04:05,591 - QueryCache - INFO - Cache get for key b6d9340fddf8014fc3ed0157465ca1ea48f588b7ff5e154f2d5531a9d9822066: None
2025-03-03 16:04:05,591 - prompttemplate - INFO - Generating MySQL prompt for query: Retrieve Products That Were Never Ordered
2025-03-03 16:04:05,591 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
Retrieve Products That Were Never Ordered

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:04:06,631 - ai_clients - INFO - Generated query: ```sql
SELECT p.ProductID, p.Name
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
``` (latency: 1.04s, usage: {
  "prompt_tokens": 8807,
  "completion_tokens": 42,
  "total_tokens": 8849,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:04:06,631 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT p.ProductID, p.Name
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
```;
2025-03-03 16:04:06,631 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:04:06,631 - QueryCache - INFO - Cache set for key b6d9340fddf8014fc3ed0157465ca1ea48f588b7ff5e154f2d5531a9d9822066 with query: ```sql
SELECT p.ProductID, p.Name
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
```;
2025-03-03 16:04:06,631 - database_query - INFO - Generated and optimized query: ```sql
SELECT p.ProductID, p.Name
FROM Production_Product p
LEFT JOIN Sales_SalesOrderDetail sod ON p.ProductID = sod.ProductID
WHERE sod.ProductID IS NULL;
```;
2025-03-03 16:04:06,641 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:04:35,896 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:04:35,897 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:04:35,897 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:04:35,897 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:04:35,897 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:04:35,897 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:04:35,904 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:04:35,907 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:04:35,993 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:04:35,995 - QueryCache - INFO - Cache get for key 9a234d1b15904d46c34a8f73f48cfc752c69fd34e0f89538b06f6f5930066cb4: None
2025-03-03 16:04:35,995 - prompttemplate - INFO - Generating MySQL prompt for query:  Get Monthly Revenue Trend for the Last Year
2025-03-03 16:04:35,995 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
 Get Monthly Revenue Trend for the Last Year

Schema details:
{
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.
2025-03-03 16:04:38,173 - ai_clients - INFO - Generated query: To get the monthly revenue trend for the last year, you can use the following MySQL query:

```sql
SELECT 
    YEAR(SalesOrderDate) AS Year,
    MONTH(SalesOrderDate) AS Month,
    SUM(LineTotal) AS MonthlyRevenue
FROM 
    Sales_SalesOrderHeader
WHERE 
    SalesOrderDate >= DATE_SUB(NOW(), INTERVAL 1 YEAR)
GROUP BY 
    YEAR(SalesOrderDate), MONTH(SalesOrderDate)
ORDER BY 
    YEAR(SalesOrderDate), MONTH(SalesOrderDate);
```

This query retrieves the yearly and monthly revenue by summing up the `LineTotal` field from the `Sales_SalesOrderHeader` table for the last year. The results are grouped (latency: 2.17s, usage: {
  "prompt_tokens": 8809,
  "completion_tokens": 150,
  "total_tokens": 8959,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:04:38,174 - QueryOptimizer - INFO - Optimized query: To get the monthly revenue trend for the last year, you can use the following MySQL query:

```sql
SELECT 
    YEAR(SalesOrderDate) AS Year,
    MONTH(SalesOrderDate) AS Month,
    SUM(LineTotal) AS MonthlyRevenue
FROM 
    Sales_SalesOrderHeader
WHERE 
    SalesOrderDate >= DATE_SUB(NOW(), INTERVAL 1 YEAR)
GROUP BY 
    YEAR(SalesOrderDate), MONTH(SalesOrderDate)
ORDER BY 
    YEAR(SalesOrderDate), MONTH(SalesOrderDate);
```

This query retrieves the yearly and monthly revenue by summing up the `LineTotal` field from the `Sales_SalesOrderHeader` table for the last year. The results are grouped;
2025-03-03 16:04:38,174 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:04:38,174 - QueryCache - INFO - Cache set for key 9a234d1b15904d46c34a8f73f48cfc752c69fd34e0f89538b06f6f5930066cb4 with query: To get the monthly revenue trend for the last year, you can use the following MySQL query:

```sql
SELECT 
    YEAR(SalesOrderDate) AS Year,
    MONTH(SalesOrderDate) AS Month,
    SUM(LineTotal) AS MonthlyRevenue
FROM 
    Sales_SalesOrderHeader
WHERE 
    SalesOrderDate >= DATE_SUB(NOW(), INTERVAL 1 YEAR)
GROUP BY 
    YEAR(SalesOrderDate), MONTH(SalesOrderDate)
ORDER BY 
    YEAR(SalesOrderDate), MONTH(SalesOrderDate);
```

This query retrieves the yearly and monthly revenue by summing up the `LineTotal` field from the `Sales_SalesOrderHeader` table for the last year. The results are grouped;
2025-03-03 16:04:38,174 - database_query - INFO - Generated and optimized query: To get the monthly revenue trend for the last year, you can use the following MySQL query:

```sql
SELECT 
    YEAR(SalesOrderDate) AS Year,
    MONTH(SalesOrderDate) AS Month,
    SUM(LineTotal) AS MonthlyRevenue
FROM 
    Sales_SalesOrderHeader
WHERE 
    SalesOrderDate >= DATE_SUB(NOW(), INTERVAL 1 YEAR)
GROUP BY 
    YEAR(SalesOrderDate), MONTH(SalesOrderDate)
ORDER BY 
    YEAR(SalesOrderDate), MONTH(SalesOrderDate);
```

This query retrieves the yearly and monthly revenue by summing up the `LineTotal` field from the `Sales_SalesOrderHeader` table for the last year. The results are grouped;
2025-03-03 16:04:38,187 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:06:12,613 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:06:24,176 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:06:24,176 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:06:24,176 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:06:24,176 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:06:24,176 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:06:24,176 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:06:24,273 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:06:24,305 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:06:24,400 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:06:24,402 - QueryCache - INFO - Cache get for key 9a234d1b15904d46c34a8f73f48cfc752c69fd34e0f89538b06f6f5930066cb4: None
2025-03-03 16:06:24,402 - prompttemplate - INFO - Generating MySQL prompt for query:  Get Monthly Revenue Trend for the Last Year
2025-03-03 16:06:24,402 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
             Get Monthly Revenue Trend for the Last Year

            Schema details:
            {
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

            Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.Only return the query with no description.
2025-03-03 16:06:26,306 - ai_clients - INFO - Generated query: ```sql
SELECT 
    DATE_FORMAT(OrderDate, '%Y-%m') AS Month,
    SUM(LineTotal) AS Revenue
FROM Sales_SalesOrderHeader
WHERE OrderDate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)
GROUP BY DATE_FORMAT(OrderDate, '%Y-%m')
ORDER BY Month;
``` (latency: 1.90s, usage: {
  "prompt_tokens": 9281,
  "completion_tokens": 67,
  "total_tokens": 9348,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:06:26,306 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT 
    DATE_FORMAT(OrderDate, '%Y-%m') AS Month,
    SUM(LineTotal) AS Revenue
FROM Sales_SalesOrderHeader
WHERE OrderDate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)
GROUP BY DATE_FORMAT(OrderDate, '%Y-%m')
ORDER BY Month;
```;
2025-03-03 16:06:26,307 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:06:26,307 - QueryCache - INFO - Cache set for key 9a234d1b15904d46c34a8f73f48cfc752c69fd34e0f89538b06f6f5930066cb4 with query: ```sql
SELECT 
    DATE_FORMAT(OrderDate, '%Y-%m') AS Month,
    SUM(LineTotal) AS Revenue
FROM Sales_SalesOrderHeader
WHERE OrderDate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)
GROUP BY DATE_FORMAT(OrderDate, '%Y-%m')
ORDER BY Month;
```;
2025-03-03 16:06:26,307 - database_query - INFO - Generated and optimized query: ```sql
SELECT 
    DATE_FORMAT(OrderDate, '%Y-%m') AS Month,
    SUM(LineTotal) AS Revenue
FROM Sales_SalesOrderHeader
WHERE OrderDate >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)
GROUP BY DATE_FORMAT(OrderDate, '%Y-%m')
ORDER BY Month;
```;
2025-03-03 16:06:26,321 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:09:47,025 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:09:47,026 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:09:47,026 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:09:47,026 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:09:47,026 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:09:47,026 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:09:47,104 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:09:47,138 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:09:47,311 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:09:47,314 - QueryCache - INFO - Cache get for key 9a234d1b15904d46c34a8f73f48cfc752c69fd34e0f89538b06f6f5930066cb4: None
2025-03-03 16:09:47,314 - prompttemplate - INFO - Generating MySQL prompt for query:  Get Monthly Revenue Trend for the Last Year
2025-03-03 16:09:47,314 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
             Get Monthly Revenue Trend for the Last Year

            Schema details:
            {
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

            Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.Only return the query with no description.
2025-03-03 16:09:48,643 - ai_clients - INFO - Generated query: ```sql
SELECT DATE_FORMAT(OrderDate, '%Y-%m') AS Month,
       SUM(LineTotal) AS Revenue
FROM Sales_SalesOrderHeader
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 YEAR)
GROUP BY DATE_FORMAT(OrderDate, '%Y-%m')
ORDER BY Month;
``` (latency: 1.33s, usage: {
  "prompt_tokens": 9281,
  "completion_tokens": 64,
  "total_tokens": 9345,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:09:48,643 - QueryOptimizer - INFO - Optimized query: ```sql
SELECT DATE_FORMAT(OrderDate, '%Y-%m') AS Month,
       SUM(LineTotal) AS Revenue
FROM Sales_SalesOrderHeader
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 YEAR)
GROUP BY DATE_FORMAT(OrderDate, '%Y-%m')
ORDER BY Month;
```;
2025-03-03 16:09:48,643 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:09:48,643 - QueryCache - INFO - Cache set for key 9a234d1b15904d46c34a8f73f48cfc752c69fd34e0f89538b06f6f5930066cb4 with query: ```sql
SELECT DATE_FORMAT(OrderDate, '%Y-%m') AS Month,
       SUM(LineTotal) AS Revenue
FROM Sales_SalesOrderHeader
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 YEAR)
GROUP BY DATE_FORMAT(OrderDate, '%Y-%m')
ORDER BY Month;
```;
2025-03-03 16:09:48,643 - database_query - INFO - Generated and optimized query: ```sql
SELECT DATE_FORMAT(OrderDate, '%Y-%m') AS Month,
       SUM(LineTotal) AS Revenue
FROM Sales_SalesOrderHeader
WHERE OrderDate >= DATE_SUB(NOW(), INTERVAL 1 YEAR)
GROUP BY DATE_FORMAT(OrderDate, '%Y-%m')
ORDER BY Month;
```;
2025-03-03 16:09:48,657 - database_query - INFO - Connected to MySQL database.
2025-03-03 16:11:31,472 - ai_clients - INFO - OpenAI API Key loaded: sk-pr...
2025-03-03 16:11:31,473 - QueryCache - INFO - QueryCache initialized with max_size 100
2025-03-03 16:11:31,473 - RateLimiter - INFO - RateLimiter initialized with 30 calls per minute
2025-03-03 16:11:31,473 - QueryOptimizer - INFO - QueryOptimizer initialized with prohibited patterns: ['DROP', 'DELETE', 'TRUNCATE', 'GRANT', 'REVOKE', 'ALTER']
2025-03-03 16:11:31,473 - database_query - INFO - AIDatabaseQuery initialized.
2025-03-03 16:11:31,473 - SchemaGenerator - INFO - SchemaGenerator initialized with DB config: {'host': 'localhost', 'port': 3306, 'user': 'ai_user', 'password': 'AiUser@1234', 'database': 'AdventureWorks2019'}
2025-03-03 16:11:31,529 - SchemaGenerator - INFO - Connected to MySQL database.
2025-03-03 16:11:31,549 - SchemaGenerator - INFO - Tables found: ['dbo_AWBuildVersion', 'dbo_DatabaseLog', 'dbo_ErrorLog', 'HumanResources_Department', 'HumanResources_Employee', 'HumanResources_EmployeeDepartmentHistory', 'HumanResources_EmployeePayHistory', 'HumanResources_JobCandidate', 'HumanResources_Shift', 'Person_Address', 'Person_AddressType', 'Person_BusinessEntity', 'Person_BusinessEntityAddress', 'Person_BusinessEntityContact', 'Person_ContactType', 'Person_CountryRegion', 'Person_EmailAddress', 'Person_Password', 'Person_Person', 'Person_PersonPhone', 'Person_PhoneNumberType', 'Person_StateProvince', 'Production_BillOfMaterials', 'Production_Culture', 'Production_Document', 'Production_Illustration', 'Production_Location', 'Production_Product', 'Production_ProductCategory', 'Production_ProductCostHistory', 'Production_ProductDescription', 'Production_ProductDocument', 'Production_ProductInventory', 'Production_ProductListPriceHistory', 'Production_ProductModel', 'Production_ProductModelIllustration', 'Production_ProductModelProductDescriptionCulture', 'Production_ProductPhoto', 'Production_ProductProductPhoto', 'Production_ProductReview', 'Production_ProductSubcategory', 'Production_ScrapReason', 'Production_TransactionHistory', 'Production_TransactionHistoryArchive', 'Production_UnitMeasure', 'Production_WorkOrder', 'Production_WorkOrderRouting', 'Purchasing_ProductVendor', 'Purchasing_PurchaseOrderDetail', 'Purchasing_PurchaseOrderHeader', 'Purchasing_ShipMethod', 'Purchasing_Vendor', 'Sales_CountryRegionCurrency', 'Sales_CreditCard', 'Sales_Currency', 'Sales_CurrencyRate', 'Sales_Customer', 'Sales_PersonCreditCard', 'Sales_SalesOrderDetail', 'Sales_SalesOrderHeader', 'Sales_SalesOrderHeaderSalesReason', 'Sales_SalesPerson', 'Sales_SalesPersonQuotaHistory', 'Sales_SalesReason', 'Sales_SalesTaxRate', 'Sales_SalesTerritory', 'Sales_SalesTerritoryHistory', 'Sales_ShoppingCartItem', 'Sales_SpecialOffer', 'Sales_SpecialOfferProduct', 'Sales_Store']
2025-03-03 16:11:31,624 - SchemaGenerator - INFO - Database schema and relationships successfully fetched.
2025-03-03 16:11:31,626 - QueryCache - INFO - Cache get for key e1ce0b5d65bc5d2393f4244f1ab4bb67f7402e4aba755b28228e9618a298dc20: None
2025-03-03 16:11:31,626 - prompttemplate - INFO - Generating MySQL prompt for query:  Get Monthly Revenue Trend for the Last two  Years
2025-03-03 16:11:31,626 - ai_clients - INFO - Generating query with prompt: Generate and return the MySQL query for the following request:
             Get Monthly Revenue Trend for the Last two  Years

            Schema details:
            {
  "tables": {
    "dbo_AWBuildVersion": {
      "columns": [
        "SystemInformationID",
        "Database Version",
        "VersionDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "SystemInformationID"
      ]
    },
    "dbo_DatabaseLog": {
      "columns": [
        "DatabaseLogID",
        "PostTime",
        "DatabaseUser",
        "Event",
        "Schema",
        "Object",
        "TSQL",
        "XmlEvent"
      ],
      "primary_key": [
        "DatabaseLogID"
      ]
    },
    "dbo_ErrorLog": {
      "columns": [
        "ErrorLogID",
        "ErrorTime",
        "UserName",
        "ErrorNumber",
        "ErrorSeverity",
        "ErrorState",
        "ErrorProcedure",
        "ErrorLine",
        "ErrorMessage"
      ],
      "primary_key": [
        "ErrorLogID"
      ]
    },
    "HumanResources_Department": {
      "columns": [
        "DepartmentID",
        "Name",
        "GroupName",
        "ModifiedDate"
      ],
      "primary_key": [
        "DepartmentID"
      ]
    },
    "HumanResources_Employee": {
      "columns": [
        "BusinessEntityID",
        "NationalIDNumber",
        "LoginID",
        "OrganizationNode",
        "OrganizationLevel",
        "JobTitle",
        "BirthDate",
        "MaritalStatus",
        "Gender",
        "HireDate",
        "SalariedFlag",
        "VacationHours",
        "SickLeaveHours",
        "CurrentFlag",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "HumanResources_EmployeeDepartmentHistory": {
      "columns": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate",
        "EndDate",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "DepartmentID",
        "ShiftID",
        "StartDate"
      ]
    },
    "HumanResources_EmployeePayHistory": {
      "columns": [
        "BusinessEntityID",
        "RateChangeDate",
        "Rate",
        "PayFrequency",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "RateChangeDate"
      ]
    },
    "HumanResources_JobCandidate": {
      "columns": [
        "JobCandidateID",
        "BusinessEntityID",
        "Resume",
        "ModifiedDate"
      ],
      "primary_key": [
        "JobCandidateID"
      ]
    },
    "HumanResources_Shift": {
      "columns": [
        "ShiftID",
        "Name",
        "StartTime",
        "EndTime",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShiftID"
      ]
    },
    "Person_Address": {
      "columns": [
        "AddressID",
        "AddressLine1",
        "AddressLine2",
        "City",
        "StateProvinceID",
        "PostalCode",
        "SpatialLocation",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressID"
      ]
    },
    "Person_AddressType": {
      "columns": [
        "AddressTypeID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntity": {
      "columns": [
        "BusinessEntityID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_BusinessEntityAddress": {
      "columns": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "AddressID",
        "AddressTypeID"
      ]
    },
    "Person_BusinessEntityContact": {
      "columns": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PersonID",
        "ContactTypeID"
      ]
    },
    "Person_ContactType": {
      "columns": [
        "ContactTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ContactTypeID"
      ]
    },
    "Person_CountryRegion": {
      "columns": [
        "CountryRegionCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode"
      ]
    },
    "Person_EmailAddress": {
      "columns": [
        "BusinessEntityID",
        "EmailAddressID",
        "EmailAddress",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "EmailAddressID"
      ]
    },
    "Person_Password": {
      "columns": [
        "BusinessEntityID",
        "PasswordHash",
        "PasswordSalt",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_Person": {
      "columns": [
        "BusinessEntityID",
        "PersonType",
        "NameStyle",
        "Title",
        "FirstName",
        "MiddleName",
        "LastName",
        "Suffix",
        "EmailPromotion",
        "AdditionalContactInfo",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Person_PersonPhone": {
      "columns": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "PhoneNumber",
        "PhoneNumberTypeID"
      ]
    },
    "Person_PhoneNumberType": {
      "columns": [
        "PhoneNumberTypeID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "PhoneNumberTypeID"
      ]
    },
    "Person_StateProvince": {
      "columns": [
        "StateProvinceID",
        "StateProvinceCode",
        "CountryRegionCode",
        "IsOnlyStateProvinceFlag",
        "Name",
        "TerritoryID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "StateProvinceID"
      ]
    },
    "Production_BillOfMaterials": {
      "columns": [
        "BillOfMaterialsID",
        "ProductAssemblyID",
        "ComponentID",
        "StartDate",
        "EndDate",
        "UnitMeasureCode",
        "BOMLevel",
        "PerAssemblyQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "BillOfMaterialsID"
      ]
    },
    "Production_Culture": {
      "columns": [
        "CultureID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CultureID"
      ]
    },
    "Production_Document": {
      "columns": [
        "DocumentNode",
        "DocumentLevel",
        "Title",
        "Owner",
        "FolderFlag",
        "FileName",
        "FileExtension",
        "Revision",
        "ChangeNumber",
        "Status",
        "DocumentSummary",
        "Document",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "DocumentNode"
      ]
    },
    "Production_Illustration": {
      "columns": [
        "IllustrationID",
        "Diagram",
        "ModifiedDate"
      ],
      "primary_key": [
        "IllustrationID"
      ]
    },
    "Production_Location": {
      "columns": [
        "LocationID",
        "Name",
        "CostRate",
        "Availability",
        "ModifiedDate"
      ],
      "primary_key": [
        "LocationID"
      ]
    },
    "Production_Product": {
      "columns": [
        "ProductID",
        "Name",
        "ProductNumber",
        "MakeFlag",
        "FinishedGoodsFlag",
        "Color",
        "SafetyStockLevel",
        "ReorderPoint",
        "StandardCost",
        "ListPrice",
        "Size",
        "SizeUnitMeasureCode",
        "WeightUnitMeasureCode",
        "Weight",
        "DaysToManufacture",
        "ProductLine",
        "Class",
        "Style",
        "ProductSubcategoryID",
        "ProductModelID",
        "SellStartDate",
        "SellEndDate",
        "DiscontinuedDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID"
      ]
    },
    "Production_ProductCategory": {
      "columns": [
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductCategoryID"
      ]
    },
    "Production_ProductCostHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "StandardCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductDescription": {
      "columns": [
        "ProductDescriptionID",
        "Description",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductDescriptionID"
      ]
    },
    "Production_ProductDocument": {
      "columns": [
        "ProductID",
        "DocumentNode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "DocumentNode"
      ]
    },
    "Production_ProductInventory": {
      "columns": [
        "ProductID",
        "LocationID",
        "Shelf",
        "Bin",
        "Quantity",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "LocationID"
      ]
    },
    "Production_ProductListPriceHistory": {
      "columns": [
        "ProductID",
        "StartDate",
        "EndDate",
        "ListPrice",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "StartDate"
      ]
    },
    "Production_ProductModel": {
      "columns": [
        "ProductModelID",
        "Name",
        "CatalogDescription",
        "Instructions",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID"
      ]
    },
    "Production_ProductModelIllustration": {
      "columns": [
        "ProductModelID",
        "IllustrationID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "IllustrationID"
      ]
    },
    "Production_ProductModelProductDescriptionCulture": {
      "columns": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductModelID",
        "ProductDescriptionID",
        "CultureID"
      ]
    },
    "Production_ProductPhoto": {
      "columns": [
        "ProductPhotoID",
        "ThumbNailPhoto",
        "ThumbnailPhotoFileName",
        "LargePhoto",
        "LargePhotoFileName",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductPhotoID"
      ]
    },
    "Production_ProductProductPhoto": {
      "columns": [
        "ProductID",
        "ProductPhotoID",
        "Primary",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "ProductPhotoID"
      ]
    },
    "Production_ProductReview": {
      "columns": [
        "ProductReviewID",
        "ProductID",
        "ReviewerName",
        "ReviewDate",
        "EmailAddress",
        "Rating",
        "Comments",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductReviewID"
      ]
    },
    "Production_ProductSubcategory": {
      "columns": [
        "ProductSubcategoryID",
        "ProductCategoryID",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductSubcategoryID"
      ]
    },
    "Production_ScrapReason": {
      "columns": [
        "ScrapReasonID",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "ScrapReasonID"
      ]
    },
    "Production_TransactionHistory": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_TransactionHistoryArchive": {
      "columns": [
        "TransactionID",
        "ProductID",
        "ReferenceOrderID",
        "ReferenceOrderLineID",
        "TransactionDate",
        "TransactionType",
        "Quantity",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "TransactionID"
      ]
    },
    "Production_UnitMeasure": {
      "columns": [
        "UnitMeasureCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "UnitMeasureCode"
      ]
    },
    "Production_WorkOrder": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OrderQty",
        "StockedQty",
        "ScrappedQty",
        "StartDate",
        "EndDate",
        "DueDate",
        "ScrapReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID"
      ]
    },
    "Production_WorkOrderRouting": {
      "columns": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence",
        "LocationID",
        "ScheduledStartDate",
        "ScheduledEndDate",
        "ActualStartDate",
        "ActualEndDate",
        "ActualResourceHrs",
        "PlannedCost",
        "ActualCost",
        "ModifiedDate"
      ],
      "primary_key": [
        "WorkOrderID",
        "ProductID",
        "OperationSequence"
      ]
    },
    "Purchasing_ProductVendor": {
      "columns": [
        "ProductID",
        "BusinessEntityID",
        "AverageLeadTime",
        "StandardPrice",
        "LastReceiptCost",
        "LastReceiptDate",
        "MinOrderQty",
        "MaxOrderQty",
        "OnOrderQty",
        "UnitMeasureCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "ProductID",
        "BusinessEntityID"
      ]
    },
    "Purchasing_PurchaseOrderDetail": {
      "columns": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID",
        "DueDate",
        "OrderQty",
        "ProductID",
        "UnitPrice",
        "LineTotal",
        "ReceivedQty",
        "RejectedQty",
        "StockedQty",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID",
        "PurchaseOrderDetailID"
      ]
    },
    "Purchasing_PurchaseOrderHeader": {
      "columns": [
        "PurchaseOrderID",
        "RevisionNumber",
        "Status",
        "EmployeeID",
        "VendorID",
        "ShipMethodID",
        "OrderDate",
        "ShipDate",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "ModifiedDate"
      ],
      "primary_key": [
        "PurchaseOrderID"
      ]
    },
    "Purchasing_ShipMethod": {
      "columns": [
        "ShipMethodID",
        "Name",
        "ShipBase",
        "ShipRate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShipMethodID"
      ]
    },
    "Purchasing_Vendor": {
      "columns": [
        "BusinessEntityID",
        "AccountNumber",
        "Name",
        "CreditRating",
        "PreferredVendorStatus",
        "ActiveFlag",
        "PurchasingWebServiceURL",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_CountryRegionCurrency": {
      "columns": [
        "CountryRegionCode",
        "CurrencyCode",
        "ModifiedDate"
      ],
      "primary_key": [
        "CountryRegionCode",
        "CurrencyCode"
      ]
    },
    "Sales_CreditCard": {
      "columns": [
        "CreditCardID",
        "CardType",
        "CardNumber",
        "ExpMonth",
        "ExpYear",
        "ModifiedDate"
      ],
      "primary_key": [
        "CreditCardID"
      ]
    },
    "Sales_Currency": {
      "columns": [
        "CurrencyCode",
        "Name",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyCode"
      ]
    },
    "Sales_CurrencyRate": {
      "columns": [
        "CurrencyRateID",
        "CurrencyRateDate",
        "FromCurrencyCode",
        "ToCurrencyCode",
        "AverageRate",
        "EndOfDayRate",
        "ModifiedDate"
      ],
      "primary_key": [
        "CurrencyRateID"
      ]
    },
    "Sales_Customer": {
      "columns": [
        "CustomerID",
        "PersonID",
        "StoreID",
        "TerritoryID",
        "AccountNumber",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "CustomerID"
      ]
    },
    "Sales_PersonCreditCard": {
      "columns": [
        "BusinessEntityID",
        "CreditCardID",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "CreditCardID"
      ]
    },
    "Sales_SalesOrderDetail": {
      "columns": [
        "SalesOrderID",
        "SalesOrderDetailID",
        "CarrierTrackingNumber",
        "OrderQty",
        "ProductID",
        "SpecialOfferID",
        "UnitPrice",
        "UnitPriceDiscount",
        "LineTotal",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesOrderDetailID"
      ]
    },
    "Sales_SalesOrderHeader": {
      "columns": [
        "SalesOrderID",
        "RevisionNumber",
        "OrderDate",
        "DueDate",
        "ShipDate",
        "Status",
        "OnlineOrderFlag",
        "SalesOrderNumber",
        "PurchaseOrderNumber",
        "AccountNumber",
        "CustomerID",
        "SalesPersonID",
        "TerritoryID",
        "BillToAddressID",
        "ShipToAddressID",
        "ShipMethodID",
        "CreditCardID",
        "CreditCardApprovalCode",
        "CurrencyRateID",
        "SubTotal",
        "TaxAmt",
        "Freight",
        "TotalDue",
        "Comment",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID"
      ]
    },
    "Sales_SalesOrderHeaderSalesReason": {
      "columns": [
        "SalesOrderID",
        "SalesReasonID",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesOrderID",
        "SalesReasonID"
      ]
    },
    "Sales_SalesPerson": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "SalesQuota",
        "Bonus",
        "CommissionPct",
        "SalesYTD",
        "SalesLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    },
    "Sales_SalesPersonQuotaHistory": {
      "columns": [
        "BusinessEntityID",
        "QuotaDate",
        "SalesQuota",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "QuotaDate"
      ]
    },
    "Sales_SalesReason": {
      "columns": [
        "SalesReasonID",
        "Name",
        "ReasonType",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesReasonID"
      ]
    },
    "Sales_SalesTaxRate": {
      "columns": [
        "SalesTaxRateID",
        "StateProvinceID",
        "TaxType",
        "TaxRate",
        "Name",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SalesTaxRateID"
      ]
    },
    "Sales_SalesTerritory": {
      "columns": [
        "TerritoryID",
        "Name",
        "CountryRegionCode",
        "Group",
        "SalesYTD",
        "SalesLastYear",
        "CostYTD",
        "CostLastYear",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "TerritoryID"
      ]
    },
    "Sales_SalesTerritoryHistory": {
      "columns": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate",
        "EndDate",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID",
        "TerritoryID",
        "StartDate"
      ]
    },
    "Sales_ShoppingCartItem": {
      "columns": [
        "ShoppingCartItemID",
        "ShoppingCartID",
        "Quantity",
        "ProductID",
        "DateCreated",
        "ModifiedDate"
      ],
      "primary_key": [
        "ShoppingCartItemID"
      ]
    },
    "Sales_SpecialOffer": {
      "columns": [
        "SpecialOfferID",
        "Description",
        "DiscountPct",
        "Type",
        "Category",
        "StartDate",
        "EndDate",
        "MinQty",
        "MaxQty",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID"
      ]
    },
    "Sales_SpecialOfferProduct": {
      "columns": [
        "SpecialOfferID",
        "ProductID",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "SpecialOfferID",
        "ProductID"
      ]
    },
    "Sales_Store": {
      "columns": [
        "BusinessEntityID",
        "Name",
        "SalesPersonID",
        "Demographics",
        "rowguid",
        "ModifiedDate"
      ],
      "primary_key": [
        "BusinessEntityID"
      ]
    }
  },
  "relationships": {
    "HumanResources_Employee": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_EmployeeDepartmentHistory": [
      {
        "column": "DepartmentID",
        "references": {
          "table": "HumanResources_Department",
          "column": "DepartmentID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShiftID",
        "references": {
          "table": "HumanResources_Shift",
          "column": "ShiftID"
        }
      }
    ],
    "HumanResources_EmployeePayHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "HumanResources_JobCandidate": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Address": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Person_BusinessEntityAddress": [
      {
        "column": "AddressTypeID",
        "references": {
          "table": "Person_AddressType",
          "column": "AddressTypeID"
        }
      },
      {
        "column": "AddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_BusinessEntityContact": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ContactTypeID",
        "references": {
          "table": "Person_ContactType",
          "column": "ContactTypeID"
        }
      },
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_EmailAddress": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Password": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_Person": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Person_PersonPhone": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "PhoneNumberTypeID",
        "references": {
          "table": "Person_PhoneNumberType",
          "column": "PhoneNumberTypeID"
        }
      }
    ],
    "Person_StateProvince": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Production_BillOfMaterials": [
      {
        "column": "ComponentID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ProductAssemblyID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_Document": [
      {
        "column": "Owner",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Production_Product": [
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      },
      {
        "column": "ProductSubcategoryID",
        "references": {
          "table": "Production_ProductSubcategory",
          "column": "ProductSubcategoryID"
        }
      },
      {
        "column": "SizeUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "WeightUnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      }
    ],
    "Production_ProductCostHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductDocument": [
      {
        "column": "DocumentNode",
        "references": {
          "table": "Production_Document",
          "column": "DocumentNode"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductInventory": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductListPriceHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductModelIllustration": [
      {
        "column": "IllustrationID",
        "references": {
          "table": "Production_Illustration",
          "column": "IllustrationID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductModelProductDescriptionCulture": [
      {
        "column": "CultureID",
        "references": {
          "table": "Production_Culture",
          "column": "CultureID"
        }
      },
      {
        "column": "ProductDescriptionID",
        "references": {
          "table": "Production_ProductDescription",
          "column": "ProductDescriptionID"
        }
      },
      {
        "column": "ProductModelID",
        "references": {
          "table": "Production_ProductModel",
          "column": "ProductModelID"
        }
      }
    ],
    "Production_ProductProductPhoto": [
      {
        "column": "ProductPhotoID",
        "references": {
          "table": "Production_ProductPhoto",
          "column": "ProductPhotoID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductReview": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_ProductSubcategory": [
      {
        "column": "ProductCategoryID",
        "references": {
          "table": "Production_ProductCategory",
          "column": "ProductCategoryID"
        }
      }
    ],
    "Production_TransactionHistory": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Production_WorkOrder": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "ScrapReasonID",
        "references": {
          "table": "Production_ScrapReason",
          "column": "ScrapReasonID"
        }
      }
    ],
    "Production_WorkOrderRouting": [
      {
        "column": "LocationID",
        "references": {
          "table": "Production_Location",
          "column": "LocationID"
        }
      },
      {
        "column": "WorkOrderID",
        "references": {
          "table": "Production_WorkOrder",
          "column": "WorkOrderID"
        }
      }
    ],
    "Purchasing_ProductVendor": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "UnitMeasureCode",
        "references": {
          "table": "Production_UnitMeasure",
          "column": "UnitMeasureCode"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_PurchaseOrderDetail": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "PurchaseOrderID",
        "references": {
          "table": "Purchasing_PurchaseOrderHeader",
          "column": "PurchaseOrderID"
        }
      }
    ],
    "Purchasing_PurchaseOrderHeader": [
      {
        "column": "EmployeeID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      },
      {
        "column": "VendorID",
        "references": {
          "table": "Purchasing_Vendor",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Purchasing_Vendor": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_CountryRegionCurrency": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      },
      {
        "column": "CurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_CurrencyRate": [
      {
        "column": "FromCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      },
      {
        "column": "ToCurrencyCode",
        "references": {
          "table": "Sales_Currency",
          "column": "CurrencyCode"
        }
      }
    ],
    "Sales_Customer": [
      {
        "column": "PersonID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "StoreID",
        "references": {
          "table": "Sales_Store",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_PersonCreditCard": [
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_Person",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesOrderDetail": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "SpecialOfferID"
        }
      },
      {
        "column": "ProductID",
        "references": {
          "table": "Sales_SpecialOfferProduct",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SalesOrderHeader": [
      {
        "column": "BillToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "ShipToAddressID",
        "references": {
          "table": "Person_Address",
          "column": "AddressID"
        }
      },
      {
        "column": "CreditCardID",
        "references": {
          "table": "Sales_CreditCard",
          "column": "CreditCardID"
        }
      },
      {
        "column": "CurrencyRateID",
        "references": {
          "table": "Sales_CurrencyRate",
          "column": "CurrencyRateID"
        }
      },
      {
        "column": "CustomerID",
        "references": {
          "table": "Sales_Customer",
          "column": "CustomerID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      },
      {
        "column": "ShipMethodID",
        "references": {
          "table": "Purchasing_ShipMethod",
          "column": "ShipMethodID"
        }
      }
    ],
    "Sales_SalesOrderHeaderSalesReason": [
      {
        "column": "SalesOrderID",
        "references": {
          "table": "Sales_SalesOrderHeader",
          "column": "SalesOrderID"
        }
      },
      {
        "column": "SalesReasonID",
        "references": {
          "table": "Sales_SalesReason",
          "column": "SalesReasonID"
        }
      }
    ],
    "Sales_SalesPerson": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "HumanResources_Employee",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_SalesPersonQuotaHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ],
    "Sales_SalesTaxRate": [
      {
        "column": "StateProvinceID",
        "references": {
          "table": "Person_StateProvince",
          "column": "StateProvinceID"
        }
      }
    ],
    "Sales_SalesTerritory": [
      {
        "column": "CountryRegionCode",
        "references": {
          "table": "Person_CountryRegion",
          "column": "CountryRegionCode"
        }
      }
    ],
    "Sales_SalesTerritoryHistory": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "TerritoryID",
        "references": {
          "table": "Sales_SalesTerritory",
          "column": "TerritoryID"
        }
      }
    ],
    "Sales_ShoppingCartItem": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      }
    ],
    "Sales_SpecialOfferProduct": [
      {
        "column": "ProductID",
        "references": {
          "table": "Production_Product",
          "column": "ProductID"
        }
      },
      {
        "column": "SpecialOfferID",
        "references": {
          "table": "Sales_SpecialOffer",
          "column": "SpecialOfferID"
        }
      }
    ],
    "Sales_Store": [
      {
        "column": "BusinessEntityID",
        "references": {
          "table": "Person_BusinessEntity",
          "column": "BusinessEntityID"
        }
      },
      {
        "column": "SalesPersonID",
        "references": {
          "table": "Sales_SalesPerson",
          "column": "BusinessEntityID"
        }
      }
    ]
  }
}

            Ensure the query follows best practices, uses proper indexing, and avoids SQL injection.Only return the query with no description.
2025-03-03 16:11:33,262 - ai_clients - INFO - Generated query: SELECT
    DATE_FORMAT(SellEndDate, '%Y-%m') AS Month,
    SUM(ListPrice) AS Revenue
FROM
    Production_Product
WHERE
    SellEndDate >= DATE_SUB(CURDATE(), INTERVAL 2 YEAR)
GROUP BY
    YEAR(SellEndDate),
    MONTH(SellEndDate)
ORDER BY
    YEAR(SellEndDate) DESC,
    MONTH(SellEndDate) DESC; (latency: 1.63s, usage: {
  "prompt_tokens": 9283,
  "completion_tokens": 83,
  "total_tokens": 9366,
  "prompt_tokens_details": {
    "cached_tokens": 0,
    "audio_tokens": 0
  },
  "completion_tokens_details": {
    "reasoning_tokens": 0,
    "audio_tokens": 0,
    "accepted_prediction_tokens": 0,
    "rejected_prediction_tokens": 0
  }
})
2025-03-03 16:11:33,262 - QueryOptimizer - INFO - Optimized query: SELECT
    DATE_FORMAT(SellEndDate, '%Y-%m') AS Month,
    SUM(ListPrice) AS Revenue
FROM
    Production_Product
WHERE
    SellEndDate >= DATE_SUB(CURDATE(), INTERVAL 2 YEAR)
GROUP BY
    YEAR(SellEndDate),
    MONTH(SellEndDate)
ORDER BY
    YEAR(SellEndDate) DESC,
    MONTH(SellEndDate) DESC;
2025-03-03 16:11:33,262 - QueryOptimizer - INFO - Query validation passed.
2025-03-03 16:11:33,263 - QueryCache - INFO - Cache set for key e1ce0b5d65bc5d2393f4244f1ab4bb67f7402e4aba755b28228e9618a298dc20 with query: SELECT
    DATE_FORMAT(SellEndDate, '%Y-%m') AS Month,
    SUM(ListPrice) AS Revenue
FROM
    Production_Product
WHERE
    SellEndDate >= DATE_SUB(CURDATE(), INTERVAL 2 YEAR)
GROUP BY
    YEAR(SellEndDate),
    MONTH(SellEndDate)
ORDER BY
    YEAR(SellEndDate) DESC,
    MONTH(SellEndDate) DESC;
2025-03-03 16:11:33,264 - database_query - INFO - Generated and optimized query: SELECT
    DATE_FORMAT(SellEndDate, '%Y-%m') AS Month,
    SUM(ListPrice) AS Revenue
FROM
    Production_Product
WHERE
    SellEndDate >= DATE_SUB(CURDATE(), INTERVAL 2 YEAR)
GROUP BY
    YEAR(SellEndDate),
    MONTH(SellEndDate)
ORDER BY
    YEAR(SellEndDate) DESC,
    MONTH(SellEndDate) DESC;
2025-03-03 16:11:33,284 - database_query - INFO - Connected to MySQL database.
